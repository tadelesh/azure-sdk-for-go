//go:build go1.16
// +build go1.16

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) AutoRest Code Generator.
// Changes may cause incorrect behavior and will be lost if the code is regenerated.

package armvideoanalyzer_test

import (
	"context"
	"fmt"
	"net/http"
	"os"
	"runtime/debug"
	"testing"

	"encoding/json"
	"reflect"
	"time"

	"github.com/Azure/azure-sdk-for-go/sdk/azcore"
	"github.com/Azure/azure-sdk-for-go/sdk/azcore/arm"
	"github.com/Azure/azure-sdk-for-go/sdk/azcore/policy"
	"github.com/Azure/azure-sdk-for-go/sdk/azcore/runtime"
	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/videoanalyzer/armvideoanalyzer"
	"golang.org/x/net/http2"
)

var (
	ctx      context.Context
	options  arm.ClientOptions
	cred     azcore.TokenCredential
	err      error
	mockHost string
)

func TestEdgeModules_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-list.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Lists the registered edge modules."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewEdgeModulesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	pager := client.List("testrg",
		"testaccount2",
		&armvideoanalyzer.EdgeModulesClientListOptions{Top: nil})
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-list.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armvideoanalyzer.EdgeModuleEntityCollection{
			Value: []*armvideoanalyzer.EdgeModuleEntity{
				{
					Name: to.Ptr("edgeModule1"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/edgeModules"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/edgeModules/edgeModule1"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.EdgeModuleProperties{
						EdgeModuleID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
				},
				{
					Name: to.Ptr("edgeModule2"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/edgeModules"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/edgeModules/edgeModule2"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.EdgeModuleProperties{
						EdgeModuleID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.EdgeModuleEntityCollection) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.EdgeModuleEntityCollection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-list.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestEdgeModules_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-get.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Gets edge module registration."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewEdgeModulesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Get(ctx,
		"testrg",
		"testaccount2",
		"edgeModule1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-get.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.EdgeModuleEntity{
			Name: to.Ptr("edgeModule1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/edgeModules"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/edgeModules/edgeModule1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.EdgeModuleProperties{
				EdgeModuleID: to.Ptr("00000000-0000-0000-0000-000000000000"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.EdgeModuleEntity) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.EdgeModuleEntity)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-get.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestEdgeModules_CreateOrUpdate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-create.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Registers an edge module."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewEdgeModulesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.CreateOrUpdate(ctx,
		"testrg",
		"testaccount2",
		"edgeModule1",
		armvideoanalyzer.EdgeModuleEntity{},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-create.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.EdgeModuleEntity{
			Name: to.Ptr("edgeModule1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/edgeModules"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/edgeModules/edgeModule1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.EdgeModuleProperties{
				EdgeModuleID: to.Ptr("00000000-0000-0000-0000-000000000000"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.EdgeModuleEntity) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.EdgeModuleEntity)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-create.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestEdgeModules_Delete(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-delete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Deletes an edge module registration."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewEdgeModulesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	_, err := client.Delete(ctx,
		"testrg",
		"testaccount2",
		"edgeModule1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-delete.json: %v", err)
	}
}

func TestEdgeModules_ListProvisioningToken(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-listProvisioningToken.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Generate the Provisioning token for an edge module registration."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewEdgeModulesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.ListProvisioningToken(ctx,
		"testrg",
		"testaccount2",
		"edgeModule1",
		armvideoanalyzer.ListProvisioningTokenInput{
			ExpirationDate: to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2023-01-23T11:04:49.0526841-08:00"); return t }()),
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-listProvisioningToken.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.EdgeModuleProvisioningToken{
			ExpirationDate: to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-09-24T04:17:55.6193764Z"); return t }()),
			Token:          to.Ptr("testtoken"),
		}
		if !reflect.DeepEqual(exampleRes, res.EdgeModuleProvisioningToken) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.EdgeModuleProvisioningToken)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/edge-modules-listProvisioningToken.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineTopologies_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-list.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all pipeline topologies"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineTopologiesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	pager := client.List("testrg",
		"testaccount2",
		&armvideoanalyzer.PipelineTopologiesClientListOptions{Filter: nil,
			Top: to.Ptr[int32](2),
		})
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-list.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armvideoanalyzer.PipelineTopologyCollection{
			Value: []*armvideoanalyzer.PipelineTopology{
				{
					Name: to.Ptr("pipelineTopology1"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineTopologies"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineTopologies/pipelineTopology1"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Kind: to.Ptr(armvideoanalyzer.KindLive),
					Properties: &armvideoanalyzer.PipelineTopologyProperties{
						Description: to.Ptr("Pipeline Topology 1 Description"),
						Parameters: []*armvideoanalyzer.ParameterDeclaration{
							{
								Name:        to.Ptr("rtspUrlParameter"),
								Type:        to.Ptr(armvideoanalyzer.ParameterTypeString),
								Description: to.Ptr("rtspUrlParameter declaration"),
								Default:     to.Ptr("rtsp://microsoft.com/video.mp4"),
							},
							{
								Name:        to.Ptr("rtspPasswordParameter"),
								Type:        to.Ptr(armvideoanalyzer.ParameterTypeSecretString),
								Description: to.Ptr("rtspPasswordParameter declaration"),
								Default:     to.Ptr("password"),
							}},
						Processors: []armvideoanalyzer.ProcessorNodeBaseClassification{},
						Sinks: []armvideoanalyzer.SinkNodeBaseClassification{
							&armvideoanalyzer.VideoSink{
								Name: to.Ptr("videoSink"),
								Type: to.Ptr("#Microsoft.VideoAnalyzer.VideoSink"),
								Inputs: []*armvideoanalyzer.NodeInput{
									{
										NodeName: to.Ptr("rtspSource"),
									}},
								VideoCreationProperties: &armvideoanalyzer.VideoCreationProperties{
									Description:   to.Ptr("Parking lot south entrance"),
									SegmentLength: to.Ptr("PT30S"),
									Title:         to.Ptr("Parking Lot (Camera 1)"),
								},
								VideoName: to.Ptr("camera001"),
							}},
						Sources: []armvideoanalyzer.SourceNodeBaseClassification{
							&armvideoanalyzer.RtspSource{
								Name: to.Ptr("rtspSource"),
								Type: to.Ptr("#Microsoft.VideoAnalyzer.RtspSource"),
								Endpoint: &armvideoanalyzer.EndpointBase{
									Credentials: &armvideoanalyzer.UsernamePasswordCredentials{
										Type:     to.Ptr("#Microsoft.VideoAnalyzer.UsernamePasswordCredentials"),
										Password: to.Ptr("${rtspPasswordParameter}"),
										Username: to.Ptr("username"),
									},
									URL: to.Ptr("${rtspUrlParameter}"),
								},
								Transport: to.Ptr(armvideoanalyzer.RtspTransportHTTP),
							}},
					},
					SKU: &armvideoanalyzer.SKU{
						Name: to.Ptr(armvideoanalyzer.SKUNameLiveS1),
						Tier: to.Ptr(armvideoanalyzer.SKUTierStandard),
					},
				},
				{
					Name: to.Ptr("pipelineTopology2"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineTopologies"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineTopologies/pipelineTopology2"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Kind: to.Ptr(armvideoanalyzer.KindLive),
					Properties: &armvideoanalyzer.PipelineTopologyProperties{
						Description: to.Ptr("Pipeline Topology 2 Description"),
						Parameters: []*armvideoanalyzer.ParameterDeclaration{
							{
								Name:        to.Ptr("rtspUrlParameter"),
								Type:        to.Ptr(armvideoanalyzer.ParameterTypeString),
								Description: to.Ptr("rtspUrlParameter declaration"),
								Default:     to.Ptr("rtsp://microsoft.com/video.mp4"),
							},
							{
								Name:        to.Ptr("rtspPasswordParameter"),
								Type:        to.Ptr(armvideoanalyzer.ParameterTypeSecretString),
								Description: to.Ptr("rtspPasswordParameter declaration"),
								Default:     to.Ptr("password"),
							}},
						Processors: []armvideoanalyzer.ProcessorNodeBaseClassification{},
						Sinks: []armvideoanalyzer.SinkNodeBaseClassification{
							&armvideoanalyzer.VideoSink{
								Name: to.Ptr("videoSink"),
								Type: to.Ptr("#Microsoft.VideoAnalyzer.VideoSink"),
								Inputs: []*armvideoanalyzer.NodeInput{
									{
										NodeName: to.Ptr("rtspSource"),
									}},
								VideoCreationProperties: &armvideoanalyzer.VideoCreationProperties{
									Description:   to.Ptr("Parking lot south entrance"),
									SegmentLength: to.Ptr("PT30S"),
									Title:         to.Ptr("Parking Lot (Camera 1)"),
								},
								VideoName: to.Ptr("camera001"),
							}},
						Sources: []armvideoanalyzer.SourceNodeBaseClassification{
							&armvideoanalyzer.RtspSource{
								Name: to.Ptr("rtspSource"),
								Type: to.Ptr("#Microsoft.VideoAnalyzer.RtspSource"),
								Endpoint: &armvideoanalyzer.TLSEndpoint{
									Type: to.Ptr("#Microsoft.VideoAnalyzer.TlsEndpoint"),
									Credentials: &armvideoanalyzer.UsernamePasswordCredentials{
										Type:     to.Ptr("#Microsoft.VideoAnalyzer.UsernamePasswordCredentials"),
										Password: to.Ptr("${rtspPasswordParameter}"),
										Username: to.Ptr("username"),
									},
									URL: to.Ptr("${rtspUrlParameter}"),
									TrustedCertificates: &armvideoanalyzer.PemCertificateList{
										Type: to.Ptr("#Microsoft.VideoAnalyzer.PemCertificateList"),
										Certificates: []*string{
											to.Ptr("-----BEGIN CERTIFICATE-----\nMIIDhTCCAm2gAwIBAgIUajvPKmoO+8qaO89/ZGATl7ZYnTswDQYJKoZIhvcNAQEL\nBQAwUTESMBAGA1UECgwJTWljcm9zb2Z0MRQwEgYDVQQLDAtBenVyZSBNZWRpYTEl\nMCMGA1UEAwwcKFVudHJ1c3RlZCkgVGVzdCBDZXJ0aWZpY2F0ZTAgFw0yMDAyMDYy\nMTI5MTlaGA8zMDE5MDYwOTIxMjkxOVowUTESMBAGA1UECgwJTWljcm9zb2Z0MRQw\nEgYDVQQLDAtBenVyZSBNZWRpYTElMCMGA1UEAwwcKFVudHJ1c3RlZCkgVGVzdCBD\nZXJ0aWZpY2F0ZTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAK2lg5ff\n7xXPaBZXHl/zrTukdiBtu7BNIOchHba51eloruPRzpvQx7Pedk3CVTut7LYinijf\nuol0EwkQ2FLt2i2jOqiva9nXR95ujIZHcKsEeMC4RSNSP4++k6SpP8FgyYVdv5ru\nf8GC+HyYQ4j0TqpR/cJs53l/LGRSldaFZ6fcDde1jeyca4VivAbAH1/WDIOvmjzo\n9XIGxZ10VSS5l5+DIgdkJZ+mDMLJIuVZ0YVF16ZGEB3beq1trk5lItvmSjQLTllH\nqMFm9UGY8jKZSo/BY8ewHEtnGSAFQK0TVuRx1HhUWwu6C9jk+2zmRS2090BNpQWa\nJMKFJrSPzFDPRX8CAwEAAaNTMFEwHQYDVR0OBBYEFIumbhu0lYk0EFDThEg0yyIn\n/wZZMB8GA1UdIwQYMBaAFIumbhu0lYk0EFDThEg0yyIn/wZZMA8GA1UdEwEB/wQF\nMAMBAf8wDQYJKoZIhvcNAQELBQADggEBADUNw+/NGNVtigq9tMJKqlk39MTpDn1s\nZ1BVIAuAWSQjlevYZJeDIPUiWNWFhRe+xN7oOLnn2+NIXEKKeMSyuPoZYbN0mBkB\n99oS3XVipSANpmDvIepNdCrOnjfqDFIifRF1Dqjtb6i1hb6v/qYKVPLQvcrgGur7\nPKKkAu9p4YRZ3RBdwwaUuMgojrj/l6DGbeJY6IRVnVMY39rryMnZjA5xUlhCu55n\noB3t/jsJLwnQN+JbAjLAeuqgOWtgARsEFzvpt+VvDsaj0YLOJPhyJwTvHgaa/slB\nnECzd3TuyFKYeGssSni/QQ1e7yZcLapQqz66g5otdriw0IRdOfDxm5M=\n-----END CERTIFICATE-----")},
									},
									ValidationOptions: &armvideoanalyzer.TLSValidationOptions{
										IgnoreHostname:  to.Ptr("true"),
										IgnoreSignature: to.Ptr("false"),
									},
								},
								Transport: to.Ptr(armvideoanalyzer.RtspTransportHTTP),
							}},
					},
					SKU: &armvideoanalyzer.SKU{
						Name: to.Ptr(armvideoanalyzer.SKUNameLiveS1),
						Tier: to.Ptr(armvideoanalyzer.SKUTierStandard),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PipelineTopologyCollection) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PipelineTopologyCollection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-list.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineTopologies_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-get-by-name.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get a pipeline topology by name"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineTopologiesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Get(ctx,
		"testrg",
		"testaccount2",
		"pipelineTopology1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-get-by-name.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PipelineTopology{
			Name: to.Ptr("pipelineTopology1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineTopologies"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineTopologies/pipelineTopology1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Kind: to.Ptr(armvideoanalyzer.KindLive),
			Properties: &armvideoanalyzer.PipelineTopologyProperties{
				Description: to.Ptr("Pipeline Topology 1 Description"),
				Parameters: []*armvideoanalyzer.ParameterDeclaration{
					{
						Name:        to.Ptr("rtspUrlParameter"),
						Type:        to.Ptr(armvideoanalyzer.ParameterTypeString),
						Description: to.Ptr("rtspUrlParameter declaration"),
						Default:     to.Ptr("rtsp://microsoft.com/video.mp4"),
					},
					{
						Name:        to.Ptr("rtspPasswordParameter"),
						Type:        to.Ptr(armvideoanalyzer.ParameterTypeSecretString),
						Description: to.Ptr("rtspPasswordParameter declaration"),
						Default:     to.Ptr("password"),
					}},
				Processors: []armvideoanalyzer.ProcessorNodeBaseClassification{},
				Sinks: []armvideoanalyzer.SinkNodeBaseClassification{
					&armvideoanalyzer.VideoSink{
						Name: to.Ptr("videoSink"),
						Type: to.Ptr("#Microsoft.VideoAnalyzer.VideoSink"),
						Inputs: []*armvideoanalyzer.NodeInput{
							{
								NodeName: to.Ptr("rtspSource"),
							}},
						VideoCreationProperties: &armvideoanalyzer.VideoCreationProperties{
							Description:   to.Ptr("Parking lot south entrance"),
							SegmentLength: to.Ptr("PT30S"),
							Title:         to.Ptr("Parking Lot (Camera 1)"),
						},
						VideoName: to.Ptr("camera001"),
					}},
				Sources: []armvideoanalyzer.SourceNodeBaseClassification{
					&armvideoanalyzer.RtspSource{
						Name: to.Ptr("rtspSource"),
						Type: to.Ptr("#Microsoft.VideoAnalyzer.RtspSource"),
						Endpoint: &armvideoanalyzer.EndpointBase{
							Credentials: &armvideoanalyzer.UsernamePasswordCredentials{
								Type:     to.Ptr("#Microsoft.VideoAnalyzer.UsernamePasswordCredentials"),
								Password: to.Ptr("${rtspPasswordParameter}"),
								Username: to.Ptr("username"),
							},
							URL: to.Ptr("${rtspUrlParameter}"),
						},
						Transport: to.Ptr(armvideoanalyzer.RtspTransportHTTP),
					}},
			},
			SKU: &armvideoanalyzer.SKU{
				Name: to.Ptr(armvideoanalyzer.SKUNameLiveS1),
				Tier: to.Ptr(armvideoanalyzer.SKUTierStandard),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PipelineTopology) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PipelineTopology)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-get-by-name.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineTopologies_CreateOrUpdate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-create.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or update a pipeline topology with an Rtsp source and video sink."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineTopologiesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.CreateOrUpdate(ctx,
		"testrg",
		"testaccount2",
		"pipelineTopology1",
		armvideoanalyzer.PipelineTopology{
			Kind: to.Ptr(armvideoanalyzer.KindLive),
			Properties: &armvideoanalyzer.PipelineTopologyProperties{
				Description: to.Ptr("Pipeline Topology 1 Description"),
				Parameters: []*armvideoanalyzer.ParameterDeclaration{
					{
						Name:        to.Ptr("rtspUrlParameter"),
						Type:        to.Ptr(armvideoanalyzer.ParameterTypeString),
						Description: to.Ptr("rtsp source url parameter"),
						Default:     to.Ptr("rtsp://microsoft.com/video.mp4"),
					},
					{
						Name:        to.Ptr("rtspPasswordParameter"),
						Type:        to.Ptr(armvideoanalyzer.ParameterTypeSecretString),
						Description: to.Ptr("rtsp source password parameter"),
						Default:     to.Ptr("password"),
					}},
				Sinks: []armvideoanalyzer.SinkNodeBaseClassification{
					&armvideoanalyzer.VideoSink{
						Name: to.Ptr("videoSink"),
						Type: to.Ptr("#Microsoft.VideoAnalyzer.VideoSink"),
						Inputs: []*armvideoanalyzer.NodeInput{
							{
								NodeName: to.Ptr("rtspSource"),
							}},
						VideoCreationProperties: &armvideoanalyzer.VideoCreationProperties{
							Description:   to.Ptr("Parking lot south entrance"),
							SegmentLength: to.Ptr("PT30S"),
							Title:         to.Ptr("Parking Lot (Camera 1)"),
						},
						VideoName: to.Ptr("camera001"),
						VideoPublishingOptions: &armvideoanalyzer.VideoPublishingOptions{
							DisableArchive:        to.Ptr("false"),
							DisableRtspPublishing: to.Ptr("true"),
						},
					}},
				Sources: []armvideoanalyzer.SourceNodeBaseClassification{
					&armvideoanalyzer.RtspSource{
						Name: to.Ptr("rtspSource"),
						Type: to.Ptr("#Microsoft.VideoAnalyzer.RtspSource"),
						Endpoint: &armvideoanalyzer.UnsecuredEndpoint{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.UnsecuredEndpoint"),
							Credentials: &armvideoanalyzer.UsernamePasswordCredentials{
								Type:     to.Ptr("#Microsoft.VideoAnalyzer.UsernamePasswordCredentials"),
								Password: to.Ptr("${rtspPasswordParameter}"),
								Username: to.Ptr("username"),
							},
							URL: to.Ptr("${rtspUrlParameter}"),
						},
						Transport: to.Ptr(armvideoanalyzer.RtspTransportHTTP),
					}},
			},
			SKU: &armvideoanalyzer.SKU{
				Name: to.Ptr(armvideoanalyzer.SKUNameLiveS1),
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-create.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PipelineTopology{
			Name: to.Ptr("pipelineTopology1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineTopologies"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineTopologies/pipelineTopology1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Kind: to.Ptr(armvideoanalyzer.KindLive),
			Properties: &armvideoanalyzer.PipelineTopologyProperties{
				Description: to.Ptr("Pipeline Topology 1 Description"),
				Parameters: []*armvideoanalyzer.ParameterDeclaration{
					{
						Name:        to.Ptr("rtspUrlParameter"),
						Type:        to.Ptr(armvideoanalyzer.ParameterTypeString),
						Description: to.Ptr("rtspUrlParameter declaration"),
						Default:     to.Ptr("rtsp://microsoft.com/video.mp4"),
					},
					{
						Name:        to.Ptr("rtspPasswordParameter"),
						Type:        to.Ptr(armvideoanalyzer.ParameterTypeSecretString),
						Description: to.Ptr("rtspPasswordParameter declaration"),
						Default:     to.Ptr("password"),
					}},
				Processors: []armvideoanalyzer.ProcessorNodeBaseClassification{},
				Sinks: []armvideoanalyzer.SinkNodeBaseClassification{
					&armvideoanalyzer.VideoSink{
						Name: to.Ptr("videoSink"),
						Type: to.Ptr("#Microsoft.VideoAnalyzer.VideoSink"),
						Inputs: []*armvideoanalyzer.NodeInput{
							{
								NodeName: to.Ptr("rtspSource"),
							}},
						VideoCreationProperties: &armvideoanalyzer.VideoCreationProperties{
							Description:   to.Ptr("Parking lot south entrance"),
							SegmentLength: to.Ptr("PT30S"),
							Title:         to.Ptr("Parking Lot (Camera 1)"),
						},
						VideoName: to.Ptr("camera001"),
						VideoPublishingOptions: &armvideoanalyzer.VideoPublishingOptions{
							DisableArchive:        to.Ptr("false"),
							DisableRtspPublishing: to.Ptr("true"),
						},
					}},
				Sources: []armvideoanalyzer.SourceNodeBaseClassification{
					&armvideoanalyzer.RtspSource{
						Name: to.Ptr("rtspSource"),
						Type: to.Ptr("#Microsoft.VideoAnalyzer.RtspSource"),
						Endpoint: &armvideoanalyzer.EndpointBase{
							Credentials: &armvideoanalyzer.UsernamePasswordCredentials{
								Type:     to.Ptr("#Microsoft.VideoAnalyzer.UsernamePasswordCredentials"),
								Password: to.Ptr("${rtspPasswordParameter}"),
								Username: to.Ptr("username"),
							},
							URL: to.Ptr("${rtspUrlParameter}"),
						},
						Transport: to.Ptr(armvideoanalyzer.RtspTransportHTTP),
					}},
			},
			SKU: &armvideoanalyzer.SKU{
				Name: to.Ptr(armvideoanalyzer.SKUNameLiveS1),
				Tier: to.Ptr(armvideoanalyzer.SKUTierStandard),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PipelineTopology) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PipelineTopology)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-create.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineTopologies_Delete(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-delete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete a pipeline topology"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineTopologiesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	_, err := client.Delete(ctx,
		"testrg",
		"testaccount2",
		"pipelineTopology1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-delete.json: %v", err)
	}
}

func TestPipelineTopologies_Update(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-patch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Update pipeline topology."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineTopologiesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Update(ctx,
		"testrg",
		"testaccount2",
		"pipelineTopology1",
		armvideoanalyzer.PipelineTopologyUpdate{
			Properties: &armvideoanalyzer.PipelineTopologyPropertiesUpdate{
				Description: to.Ptr("Pipeline Topology 1 Description"),
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-patch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PipelineTopology{
			Name: to.Ptr("pipelineTopology1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineTopologies"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineTopologies/pipelineTopology1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Kind: to.Ptr(armvideoanalyzer.KindLive),
			Properties: &armvideoanalyzer.PipelineTopologyProperties{
				Description: to.Ptr("Pipeline Topology 1 Description"),
				Parameters: []*armvideoanalyzer.ParameterDeclaration{
					{
						Name:        to.Ptr("rtspUrlParameter"),
						Type:        to.Ptr(armvideoanalyzer.ParameterTypeString),
						Description: to.Ptr("rtspUrlParameter declaration"),
						Default:     to.Ptr("rtsp://microsoft.com/video.mp4"),
					},
					{
						Name:        to.Ptr("rtspPasswordParameter"),
						Type:        to.Ptr(armvideoanalyzer.ParameterTypeSecretString),
						Description: to.Ptr("rtspPasswordParameter declaration"),
						Default:     to.Ptr("password"),
					}},
				Processors: []armvideoanalyzer.ProcessorNodeBaseClassification{},
				Sinks: []armvideoanalyzer.SinkNodeBaseClassification{
					&armvideoanalyzer.VideoSink{
						Name: to.Ptr("videoSink"),
						Type: to.Ptr("#Microsoft.VideoAnalyzer.VideoSink"),
						Inputs: []*armvideoanalyzer.NodeInput{
							{
								NodeName: to.Ptr("rtspSource"),
							}},
						VideoCreationProperties: &armvideoanalyzer.VideoCreationProperties{
							Description:   to.Ptr("Parking lot south entrance"),
							SegmentLength: to.Ptr("PT30S"),
							Title:         to.Ptr("Parking Lot (Camera 1)"),
						},
						VideoName: to.Ptr("camera001"),
					}},
				Sources: []armvideoanalyzer.SourceNodeBaseClassification{
					&armvideoanalyzer.RtspSource{
						Name: to.Ptr("rtspSource"),
						Type: to.Ptr("#Microsoft.VideoAnalyzer.RtspSource"),
						Endpoint: &armvideoanalyzer.EndpointBase{
							Credentials: &armvideoanalyzer.UsernamePasswordCredentials{
								Type:     to.Ptr("#Microsoft.VideoAnalyzer.UsernamePasswordCredentials"),
								Password: to.Ptr("${rtspPasswordParameter}"),
								Username: to.Ptr("username"),
							},
							URL: to.Ptr("${rtspUrlParameter}"),
						},
						Transport: to.Ptr(armvideoanalyzer.RtspTransportHTTP),
					}},
			},
			SKU: &armvideoanalyzer.SKU{
				Name: to.Ptr(armvideoanalyzer.SKUNameLiveS1),
				Tier: to.Ptr(armvideoanalyzer.SKUTierStandard),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PipelineTopology) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PipelineTopology)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-topology-patch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestLivePipelines_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-list.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List live pipelines"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLivePipelinesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	pager := client.List("testrg",
		"testaccount2",
		&armvideoanalyzer.LivePipelinesClientListOptions{Filter: nil,
			Top: to.Ptr[int32](2),
		})
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-list.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armvideoanalyzer.LivePipelineCollection{
			Value: []*armvideoanalyzer.LivePipeline{
				{
					Name: to.Ptr("livePipeline1"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/livePipelines/livePipeline1"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.LivePipelineProperties{
						Description: to.Ptr("Live Pipeline 1 Description"),
						BitrateKbps: to.Ptr[int32](500),
						Parameters: []*armvideoanalyzer.ParameterDefinition{
							{
								Name:  to.Ptr("rtspUrlParameter"),
								Value: to.Ptr("rtsp://contoso.com/stream"),
							}},
						State:        to.Ptr(armvideoanalyzer.LivePipelineStateInactive),
						TopologyName: to.Ptr("pipelineTopology1"),
					},
				},
				{
					Name: to.Ptr("livePipeline2"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/livePipelines/livePipeline2"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.LivePipelineProperties{
						Description: to.Ptr("Live Pipeline 2 Description"),
						BitrateKbps: to.Ptr[int32](500),
						Parameters: []*armvideoanalyzer.ParameterDefinition{
							{
								Name:  to.Ptr("rtspUrlParameter"),
								Value: to.Ptr("rtsp://contoso.com/stream"),
							}},
						State:        to.Ptr(armvideoanalyzer.LivePipelineStateActivating),
						TopologyName: to.Ptr("pipelineTopology1"),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.LivePipelineCollection) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.LivePipelineCollection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-list.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestLivePipelines_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-get-by-name.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Retrieves a specific live pipeline by name"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLivePipelinesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Get(ctx,
		"testrg",
		"testaccount2",
		"livePipeline1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-get-by-name.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.LivePipeline{
			Name: to.Ptr("livePipeline1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/livePipelines/livePipeline1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.LivePipelineProperties{
				Description: to.Ptr("Live Pipeline 1 Description"),
				BitrateKbps: to.Ptr[int32](500),
				Parameters: []*armvideoanalyzer.ParameterDefinition{
					{
						Name:  to.Ptr("rtspUrlParameter"),
						Value: to.Ptr("rtsp://contoso.com/stream"),
					}},
				State:        to.Ptr(armvideoanalyzer.LivePipelineStateInactive),
				TopologyName: to.Ptr("pipelineTopology1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.LivePipeline) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.LivePipeline)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-get-by-name.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestLivePipelines_CreateOrUpdate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-create.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or update a live pipeline"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLivePipelinesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.CreateOrUpdate(ctx,
		"testrg",
		"testaccount2",
		"livePipeline1",
		armvideoanalyzer.LivePipeline{
			Properties: &armvideoanalyzer.LivePipelineProperties{
				Description: to.Ptr("Live Pipeline 1 Description"),
				BitrateKbps: to.Ptr[int32](500),
				Parameters: []*armvideoanalyzer.ParameterDefinition{
					{
						Name:  to.Ptr("rtspUrlParameter"),
						Value: to.Ptr("rtsp://contoso.com/stream"),
					}},
				TopologyName: to.Ptr("pipelinetopology1"),
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-create.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.LivePipeline{
			Name: to.Ptr("livePipeline1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/livePipelines/livePipeline1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.LivePipelineProperties{
				Description: to.Ptr("Live Pipeline 1 Description"),
				BitrateKbps: to.Ptr[int32](500),
				Parameters: []*armvideoanalyzer.ParameterDefinition{
					{
						Name:  to.Ptr("rtspUrlParameter"),
						Value: to.Ptr("rtsp://contoso.com/stream"),
					}},
				State:        to.Ptr(armvideoanalyzer.LivePipelineStateInactive),
				TopologyName: to.Ptr("pipelineTopology1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.LivePipeline) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.LivePipeline)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-create.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestLivePipelines_Delete(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-delete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete a live pipeline"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLivePipelinesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	_, err := client.Delete(ctx,
		"testrg",
		"testaccount2",
		"livePipeline1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-delete.json: %v", err)
	}
}

func TestLivePipelines_Update(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-patch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Updates a live pipeline."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLivePipelinesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Update(ctx,
		"testrg",
		"testaccount2",
		"livePipeline1",
		armvideoanalyzer.LivePipelineUpdate{
			Properties: &armvideoanalyzer.LivePipelinePropertiesUpdate{
				Description: to.Ptr("Live Pipeline 1 Description"),
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-patch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.LivePipeline{
			Name: to.Ptr("livePipeline1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/livePipelines/livePipeline1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.LivePipelineProperties{
				Description: to.Ptr("Live Pipeline 1 Description"),
				BitrateKbps: to.Ptr[int32](500),
				Parameters: []*armvideoanalyzer.ParameterDefinition{
					{
						Name:  to.Ptr("rtspUrlParameter"),
						Value: to.Ptr("rtsp://contoso.com/stream"),
					}},
				State:        to.Ptr(armvideoanalyzer.LivePipelineStateInactive),
				TopologyName: to.Ptr("pipelineTopology1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.LivePipeline) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.LivePipeline)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-patch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestLivePipelines_Activate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-activate.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Activate live pipeline"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLivePipelinesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	poller, err := client.BeginActivate(ctx,
		"testrg",
		"testaccount2",
		"livePipeline1",
		&armvideoanalyzer.LivePipelinesClientBeginActivateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-activate.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-activate.json: %v", err)
	}
}

func TestLivePipelines_Deactivate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-deactivate.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Deactivate Live pipeline"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLivePipelinesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	poller, err := client.BeginDeactivate(ctx,
		"testrg",
		"testaccount2",
		"livePipeline1",
		&armvideoanalyzer.LivePipelinesClientBeginDeactivateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-deactivate.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-deactivate.json: %v", err)
	}
}

func TestPipelineJobs_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-list.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all pipeline jobs"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineJobsClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	pager := client.List("testrg",
		"testaccount2",
		&armvideoanalyzer.PipelineJobsClientListOptions{Filter: nil,
			Top: to.Ptr[int32](2),
		})
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-list.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armvideoanalyzer.PipelineJobCollection{
			Value: []*armvideoanalyzer.PipelineJob{
				{
					Name: to.Ptr("pipelineJob1"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineJobs/pipelineJob1"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.PipelineJobProperties{
						Description: to.Ptr("Pipeline Job 1 Description"),
						Parameters: []*armvideoanalyzer.ParameterDefinition{
							{
								Name:  to.Ptr("timeSequences"),
								Value: to.Ptr("[[\"2020-10-05T03:30:00Z\", \"2020-10-05T04:30:00Z\"]]"),
							},
							{
								Name:  to.Ptr("videoSourceName"),
								Value: to.Ptr("camera001"),
							}},
						State:        to.Ptr(armvideoanalyzer.PipelineJobStateProcessing),
						TopologyName: to.Ptr("pipelineTopology1"),
					},
				},
				{
					Name: to.Ptr("pipelineJob2"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineJobs/pipelineJob2"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.PipelineJobProperties{
						Description: to.Ptr("Pipeline Job 2 Description"),
						Expiration:  to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2020-11-04T07:30:00Z"); return t }()),
						Parameters: []*armvideoanalyzer.ParameterDefinition{
							{
								Name:  to.Ptr("timeSequences"),
								Value: to.Ptr("[[\"2020-10-05T03:30:00Z\", \"2020-10-05T04:30:00Z\"]]"),
							},
							{
								Name:  to.Ptr("videoSourceName"),
								Value: to.Ptr("camera002"),
							}},
						State:        to.Ptr(armvideoanalyzer.PipelineJobStateCompleted),
						TopologyName: to.Ptr("pipelineTopology1"),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PipelineJobCollection) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PipelineJobCollection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-list.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineJobs_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-get-by-name.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get a pipeline job by name"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineJobsClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Get(ctx,
		"testrg",
		"testaccount2",
		"pipelineJob1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-get-by-name.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PipelineJob{
			Name: to.Ptr("pipelineJob1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineJobs/pipelineJob1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.PipelineJobProperties{
				Description: to.Ptr("Pipeline Job 1 Description"),
				Parameters: []*armvideoanalyzer.ParameterDefinition{
					{
						Name:  to.Ptr("timeSequences"),
						Value: to.Ptr("[[\"2020-10-05T03:30:00Z\", \"2020-10-05T04:30:00Z\"]]"),
					},
					{
						Name:  to.Ptr("videoSourceName"),
						Value: to.Ptr("camera001"),
					}},
				State:        to.Ptr(armvideoanalyzer.PipelineJobStateProcessing),
				TopologyName: to.Ptr("pipelineTopology1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PipelineJob) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PipelineJob)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-get-by-name.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineJobs_CreateOrUpdate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-create.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or update a pipeline job"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineJobsClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.CreateOrUpdate(ctx,
		"testrg",
		"testaccount2",
		"pipelineJob1",
		armvideoanalyzer.PipelineJob{
			Properties: &armvideoanalyzer.PipelineJobProperties{
				Description: to.Ptr("Pipeline Job 1 Dsecription"),
				Parameters: []*armvideoanalyzer.ParameterDefinition{
					{
						Name:  to.Ptr("timesequences"),
						Value: to.Ptr("[[\"2020-10-05T03:30:00Z\", \"2020-10-05T04:30:00Z\"]]"),
					},
					{
						Name:  to.Ptr("videoSourceName"),
						Value: to.Ptr("camera001"),
					}},
				TopologyName: to.Ptr("pipelinetopology1"),
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-create.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PipelineJob{
			Name: to.Ptr("pipelineJob1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineJobs/pipelineJob1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.PipelineJobProperties{
				Description: to.Ptr("Pipeline Job 2 Description"),
				Parameters: []*armvideoanalyzer.ParameterDefinition{
					{
						Name:  to.Ptr("timeSequences"),
						Value: to.Ptr("[[\"2020-10-05T03:30:00Z\", \"2020-10-05T04:30:00Z\"]]"),
					},
					{
						Name:  to.Ptr("videoSourceName"),
						Value: to.Ptr("camera001"),
					}},
				State:        to.Ptr(armvideoanalyzer.PipelineJobStateProcessing),
				TopologyName: to.Ptr("pipelineTopology1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PipelineJob) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PipelineJob)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-create.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineJobs_Delete(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-delete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Deletes a pipeline job"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineJobsClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	_, err := client.Delete(ctx,
		"testrg",
		"testaccount2",
		"pipelineJob1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-delete.json: %v", err)
	}
}

func TestPipelineJobs_Update(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-patch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Updates a pipeline job"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineJobsClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Update(ctx,
		"testrg",
		"testaccount2",
		"pipelineJob1",
		armvideoanalyzer.PipelineJobUpdate{
			Properties: &armvideoanalyzer.PipelineJobPropertiesUpdate{
				Description: to.Ptr("Pipeline Job 1 description"),
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-patch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PipelineJob{
			Name: to.Ptr("pipelineJob1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/pipelineJobs/pipelineJob1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.PipelineJobProperties{
				Description: to.Ptr("Pipeline Job 1 Description"),
				Parameters: []*armvideoanalyzer.ParameterDefinition{
					{
						Name:  to.Ptr("timeSequences"),
						Value: to.Ptr("[[\"2020-10-05T03:30:00Z\", \"2020-10-05T04:30:00Z\"]]"),
					},
					{
						Name:  to.Ptr("videoSourceName"),
						Value: to.Ptr("camera001"),
					}},
				State:        to.Ptr(armvideoanalyzer.PipelineJobStateProcessing),
				TopologyName: to.Ptr("pipelineTopology1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PipelineJob) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PipelineJob)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-patch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineJobs_Cancel(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-cancel.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Cancels a pipeline job"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineJobsClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	poller, err := client.BeginCancel(ctx,
		"testrg",
		"testaccount2",
		"pipelineJob1",
		&armvideoanalyzer.PipelineJobsClientBeginCancelOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-cancel.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-cancel.json: %v", err)
	}
}

func TestLivePipelineOperationStatuses_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-operation-status-get.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get the live pipeline operation status."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLivePipelineOperationStatusesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Get(ctx,
		"testrg",
		"testaccount2",
		"livePipeline1",
		"00000000-0000-0000-0000-000000000001",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-operation-status-get.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.LivePipelineOperationStatus{
			Name: to.Ptr("00000000-0000-0000-0000-000000000001"),
			Error: &armvideoanalyzer.ErrorDetail{
				Code:    to.Ptr("Conflict"),
				Message: to.Ptr("A conflict was encountered when processing the request"),
				Details: []*armvideoanalyzer.ErrorDetail{
					{
						Code:    to.Ptr("VideoIsInUse"),
						Message: to.Ptr("The video video1 is used by another pipeline."),
					}},
			},
			Status: to.Ptr("Failed"),
		}
		if !reflect.DeepEqual(exampleRes, res.LivePipelineOperationStatus) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.LivePipelineOperationStatus)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/live-pipeline-operation-status-get.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPipelineJobOperationStatuses_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-operation-status-get.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get the pipeline job operation status."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPipelineJobOperationStatusesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Get(ctx,
		"testrg",
		"testaccount2",
		"pipelineJob1",
		"00000000-0000-0000-0000-000000000001",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-operation-status-get.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PipelineJobOperationStatus{
			Name: to.Ptr("00000000-0000-0000-0000-000000000001"),
			Error: &armvideoanalyzer.ErrorDetail{
				Code:    to.Ptr("Conflict"),
				Message: to.Ptr("A conflict was encountered when processing the request"),
				Details: []*armvideoanalyzer.ErrorDetail{
					{
						Code:    to.Ptr("VideoIsInUse"),
						Message: to.Ptr("The video video1 is used by another pipeline."),
					}},
			},
			Status: to.Ptr("Failed"),
		}
		if !reflect.DeepEqual(exampleRes, res.PipelineJobOperationStatus) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PipelineJobOperationStatus)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/pipeline-job-operation-status-get.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestOperations_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/operations-list-all.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List Operations"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewOperationsClient(cred, &options)
	res, err := client.List(ctx,
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/operations-list-all.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.OperationCollection{
			Value: []*armvideoanalyzer.Operation{
				{
					Name: to.Ptr("Microsoft.Media/register/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Registers the subscription for the Media Services resource provider and enables the creation of Media Services accounts"),
						Operation:   to.Ptr("Registers the Media Services Resource Provider"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Microsoft Media Services"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/unregister/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Unregisters the subscription for the Media Services resource provider"),
						Operation:   to.Ptr("Unregisters the Media Services Resource Provider"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Microsoft Media Services"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/checknameavailability/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Checks if a Media Services account name is available"),
						Operation:   to.Ptr("Check Name Availability"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Microsoft Media Services"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/operations/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Get Available Operations"),
						Operation:   to.Ptr("Get Available Operations"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Available Operations"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Media Services Account"),
						Operation:   to.Ptr("Read Media Services Account"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Media Services Account"),
						Operation:   to.Ptr("Create or Update Media Services Account"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Media Services Account"),
						Operation:   to.Ptr("Delete Media Services Account"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/regenerateKey/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Regenerate a Media Services ACS key"),
						Operation:   to.Ptr("Regenerate Key"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/listKeys/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("List the ACS keys for the Media Services account"),
						Operation:   to.Ptr("List Keys"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/syncStorageKeys/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Synchronize the Storage Keys for an attached Azure Storage account"),
						Operation:   to.Ptr("Synchronize Storage Keys"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/listEdgePolicies/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("List policies for an edge device."),
						Operation:   to.Ptr("List policies for an edge device."),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/PrivateEndpointConnectionsApproval/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Approve Private Endpoint Connections"),
						Operation:   to.Ptr("Approve Private Endpoint Connections"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/eventGridFilters/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Event Grid Filter"),
						Operation:   to.Ptr("Read Event Grid Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Event Grid Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/eventGridFilters/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Event Grid Filter"),
						Operation:   to.Ptr("Create or Update Event Grid Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Event Grid Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/eventGridFilters/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Event Grid Filter"),
						Operation:   to.Ptr("Delete Event Grid Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Event Grid Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/accountfilters/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Account Filter"),
						Operation:   to.Ptr("Read Account Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Account Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/accountfilters/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Account Filter"),
						Operation:   to.Ptr("Create or Update Account Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Account Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/accountfilters/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Account Filter"),
						Operation:   to.Ptr("Delete Account Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Account Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Asset"),
						Operation:   to.Ptr("Read Asset"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Asset"),
						Operation:   to.Ptr("Create or Update Asset"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Asset"),
						Operation:   to.Ptr("Delete Asset"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/listContainerSas/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("List Asset Container SAS URLs"),
						Operation:   to.Ptr("List Asset Container SAS URLs"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/getEncryptionKey/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Get Asset Encryption Key"),
						Operation:   to.Ptr("Get Asset Encryption Key"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/listStreamingLocators/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("List Streaming Locators for Asset"),
						Operation:   to.Ptr("List Streaming Locators for Asset"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/assetfilters/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Asset Filter"),
						Operation:   to.Ptr("Read Asset Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/assetfilters/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Asset Filter"),
						Operation:   to.Ptr("Create or Update Asset Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/assets/assetfilters/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Asset Filter"),
						Operation:   to.Ptr("Delete Asset Filter"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Asset Filter"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingPolicies/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Streaming Policy"),
						Operation:   to.Ptr("Read Streaming Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Policy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingPolicies/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Streaming Policy"),
						Operation:   to.Ptr("Create or Update Streaming Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Policy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingPolicies/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Streaming Policy"),
						Operation:   to.Ptr("Delete Streaming Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Policy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingLocators/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Streaming Locator"),
						Operation:   to.Ptr("Read Streaming Locator"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Locator"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingLocators/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Streaming Locator"),
						Operation:   to.Ptr("Create or Update Streaming Locator"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Locator"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingLocators/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Streaming Locator"),
						Operation:   to.Ptr("Delete Streaming Locator"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Locator"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingLocators/listContentKeys/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("List Content Keys"),
						Operation:   to.Ptr("List Content Keys"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Locator"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingLocators/listPaths/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("List Paths"),
						Operation:   to.Ptr("List Paths"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Locator"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/contentKeyPolicies/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Content Key Policy"),
						Operation:   to.Ptr("Read Content Key Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Content Key Policy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/contentKeyPolicies/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Content Key Policy"),
						Operation:   to.Ptr("Create or Update Content Key Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Content Key Policy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/contentKeyPolicies/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Content Key Policy"),
						Operation:   to.Ptr("Delete Content Key Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Content Key Policy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/contentKeyPolicies/getPolicyPropertiesWithSecrets/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Get Policy Properties With Secrets"),
						Operation:   to.Ptr("Get Policy Properties With Secrets"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Content Key Policy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/transforms/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Transform"),
						Operation:   to.Ptr("Read Transform"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Transform"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/transforms/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Transform"),
						Operation:   to.Ptr("Create or Update Transform"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Transform"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/transforms/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Transform"),
						Operation:   to.Ptr("Delete Transform"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Transform"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/transforms/jobs/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Job"),
						Operation:   to.Ptr("Read Job"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Job"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/transforms/jobs/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Job"),
						Operation:   to.Ptr("Create or Update Job"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Job"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/transforms/jobs/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Job"),
						Operation:   to.Ptr("Delete Job"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Job"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/transforms/jobs/cancelJob/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Cancel Job"),
						Operation:   to.Ptr("Cancel Job"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Job"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateLinkResources/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Private Link Resource"),
						Operation:   to.Ptr("Read Private Link Resource"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("PrivateLinkResource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateEndpointConnectionProxies/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Private Endpoint Connection Proxy"),
						Operation:   to.Ptr("Read Private Endpoint Connection Proxy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("PrivateEndpointConnectionProxy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateEndpointConnectionProxies/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create Private Endpoint Connection Proxy"),
						Operation:   to.Ptr("Create Private Endpoint Connection Proxy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("PrivateEndpointConnectionProxy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateEndpointConnectionProxies/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete Private Endpoint Connection Proxy"),
						Operation:   to.Ptr("Delete Private Endpoint Connection Proxy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("PrivateEndpointConnectionProxy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateEndpointConnectionProxies/validate/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Validate Private Endpoint Connection Proxy"),
						Operation:   to.Ptr("Validate Private Endpoint Connection Proxy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("PrivateEndpointConnectionProxy"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateEndpointConnections/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Private Endpoint Connection"),
						Operation:   to.Ptr("Read Private Endpoint Connection"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("PrivateEndpointConnection"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateEndpointConnections/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create Private Endpoint Connection"),
						Operation:   to.Ptr("Create Private Endpoint Connection"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("PrivateEndpointConnection"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateEndpointConnections/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete Private Endpoint Connection"),
						Operation:   to.Ptr("Delete Private Endpoint Connection"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("PrivateEndpointConnection"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/privateEndpointConnectionOperations/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Private Endpoint Connection Operation"),
						Operation:   to.Ptr("Read Private Endpoint Connection Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Private Endpoint Connection Operation"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Streaming Endpoint"),
						Operation:   to.Ptr("Read Streaming Endpoint"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoint"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Streaming Endpoint"),
						Operation:   to.Ptr("Create or Update Streaming Endpoint"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoint"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Streaming Endpoint"),
						Operation:   to.Ptr("Delete Streaming Endpoint"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoint"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/start/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Start any Streaming Endpoint Operation"),
						Operation:   to.Ptr("Start Streaming Endpoint Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoint"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/stop/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Stop any Streaming Endpoint Operation"),
						Operation:   to.Ptr("Stop Streaming Endpoint Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoint"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/scale/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Scale any Streaming Endpoint Operation"),
						Operation:   to.Ptr("Scale Streaming Endpoint Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoint"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/providers/Microsoft.Insights/diagnosticSettings/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Gets the diagnostic setting for the resource."),
						Operation:   to.Ptr("Read diagnostic setting"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoints"),
					},
					Origin: to.Ptr("system"),
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/providers/Microsoft.Insights/diagnosticSettings/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Creates or updates the diagnostic setting for the resource."),
						Operation:   to.Ptr("Write diagnostic setting"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoints"),
					},
					Origin: to.Ptr("system"),
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpoints/providers/Microsoft.Insights/metricDefinitions/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Get list of Media Services Streaming Endpoint Metrics definitions."),
						Operation:   to.Ptr("Get list of Media Services Streaming Endpoint Metrics definitions."),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoints"),
					},
					Origin: to.Ptr("system"),
					Properties: &armvideoanalyzer.MetricProperties{
						ServiceSpecification: &armvideoanalyzer.ServiceSpecification{
							MetricSpecifications: []*armvideoanalyzer.MetricSpecification{
								{
									Name:            to.Ptr("Egress"),
									AggregationType: to.Ptr(armvideoanalyzer.MetricAggregationTypeTotal),
									Dimensions: []*armvideoanalyzer.MetricDimension{
										{
											Name:                   to.Ptr("OutputFormat"),
											DisplayName:            to.Ptr("Output Format"),
											ToBeExportedForShoebox: to.Ptr(true),
										}},
									DisplayDescription: to.Ptr("The amount of Egress data, in bytes."),
									DisplayName:        to.Ptr("Egress"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Total")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitBytes),
								},
								{
									Name:            to.Ptr("SuccessE2ELatency"),
									AggregationType: to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									Dimensions: []*armvideoanalyzer.MetricDimension{
										{
											Name:                   to.Ptr("OutputFormat"),
											DisplayName:            to.Ptr("Output Format"),
											ToBeExportedForShoebox: to.Ptr(true),
										}},
									DisplayDescription: to.Ptr("The average latency for successful requests in milliseconds."),
									DisplayName:        to.Ptr("Success end to end Latency"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average"),
										to.Ptr("Minimum"),
										to.Ptr("Maximum")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitMilliseconds),
								},
								{
									Name:            to.Ptr("Requests"),
									AggregationType: to.Ptr(armvideoanalyzer.MetricAggregationTypeTotal),
									Dimensions: []*armvideoanalyzer.MetricDimension{
										{
											Name:                   to.Ptr("OutputFormat"),
											DisplayName:            to.Ptr("Output Format"),
											ToBeExportedForShoebox: to.Ptr(true),
										},
										{
											Name:                   to.Ptr("HttpStatusCode"),
											DisplayName:            to.Ptr("HTTP Status Code"),
											ToBeExportedForShoebox: to.Ptr(true),
										},
										{
											Name:                   to.Ptr("ErrorCode"),
											DisplayName:            to.Ptr("Error Code"),
											ToBeExportedForShoebox: to.Ptr(false),
										}},
									DisplayDescription: to.Ptr("Requests to a Streaming Endpoint."),
									DisplayName:        to.Ptr("Requests"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Total")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                to.Ptr("EgressBandwidth"),
									AggregationType:     to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									Dimensions:          []*armvideoanalyzer.MetricDimension{},
									DisplayDescription:  to.Ptr("Egress bandwidth in bits per second."),
									DisplayName:         to.Ptr("Egress bandwidth"),
									LockAggregationType: to.Ptr(armvideoanalyzer.MetricAggregationTypeTotal),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average"),
										to.Ptr("Minimum"),
										to.Ptr("Maximum")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnit("BitsPerSecond")),
								},
								{
									Name:               to.Ptr("CPU"),
									AggregationType:    to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									Dimensions:         []*armvideoanalyzer.MetricDimension{},
									DisplayDescription: to.Ptr("CPU usage for premium streaming endpoints. This data is not available for standard streaming endpoints."),
									DisplayName:        to.Ptr("CPU usage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average"),
										to.Ptr("Minimum"),
										to.Ptr("Maximum")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnit("Percent")),
								}},
						},
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Live Event"),
						Operation:   to.Ptr("Read Live Event"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Live Event"),
						Operation:   to.Ptr("Create or Update Live Event"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Live Event"),
						Operation:   to.Ptr("Delete Live Event"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/start/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Start any Live Event Operation"),
						Operation:   to.Ptr("Start Live Event Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/stop/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Stop any Live Event Operation"),
						Operation:   to.Ptr("Stop Live Event Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/reset/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Reset any Live Event Operation"),
						Operation:   to.Ptr("Reset Live Event Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/providers/Microsoft.Insights/diagnosticSettings/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Gets the diagnostic setting for the resource."),
						Operation:   to.Ptr("Read diagnostic setting"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
					Origin: to.Ptr("system"),
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/providers/Microsoft.Insights/diagnosticSettings/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Creates or updates the diagnostic setting for the resource."),
						Operation:   to.Ptr("Write diagnostic setting"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
					Origin: to.Ptr("system"),
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/providers/Microsoft.Insights/metricDefinitions/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Get a list of Media Services Live Event Metrics definitions."),
						Operation:   to.Ptr("Get a list of Media Services Live Event Metrics definitions."),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event"),
					},
					Origin: to.Ptr("system"),
					Properties: &armvideoanalyzer.MetricProperties{
						ServiceSpecification: &armvideoanalyzer.ServiceSpecification{
							MetricSpecifications: []*armvideoanalyzer.MetricSpecification{
								{
									Name:            to.Ptr("IngestBitrate"),
									AggregationType: to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									Dimensions: []*armvideoanalyzer.MetricDimension{
										{
											Name:                   to.Ptr("TrackName"),
											DisplayName:            to.Ptr("Track name"),
											ToBeExportedForShoebox: to.Ptr(true),
										}},
									DisplayDescription:       to.Ptr("The incoming bitrate ingested for a live event, in bits per second."),
									DisplayName:              to.Ptr("Live Event ingest bitrate"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MicrosoftMediaLiveEvent"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average"),
										to.Ptr("Minimum"),
										to.Ptr("Maximum")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnit("BitsPerSecond")),
								},
								{
									Name:            to.Ptr("IngestLastTimestamp"),
									AggregationType: to.Ptr(armvideoanalyzer.MetricAggregationType("Maximum")),
									Dimensions: []*armvideoanalyzer.MetricDimension{
										{
											Name:                   to.Ptr("TrackName"),
											DisplayName:            to.Ptr("Track name"),
											ToBeExportedForShoebox: to.Ptr(true),
										}},
									DisplayDescription:       to.Ptr("Last timestamp ingested for a live event."),
									DisplayName:              to.Ptr("Live Event ingest last timestamp"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MicrosoftMediaLiveEvent"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Maximum")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitMilliseconds),
								},
								{
									Name:            to.Ptr("IngestDriftValue"),
									AggregationType: to.Ptr(armvideoanalyzer.MetricAggregationType("Maximum")),
									Dimensions: []*armvideoanalyzer.MetricDimension{
										{
											Name:                   to.Ptr("TrackName"),
											DisplayName:            to.Ptr("Track name"),
											ToBeExportedForShoebox: to.Ptr(true),
										}},
									DisplayDescription:       to.Ptr("Drift between the timestamp of the ingested content and the system clock, measured in seconds per minute. A non zero value indicates that the ingested content is arriving slower than system clock time."),
									DisplayName:              to.Ptr("Live Event ingest drift value"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MicrosoftMediaLiveEvent"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Maximum")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnit("Seconds")),
								},
								{
									Name:            to.Ptr("LiveOutputLastTimestamp"),
									AggregationType: to.Ptr(armvideoanalyzer.MetricAggregationType("Maximum")),
									Dimensions: []*armvideoanalyzer.MetricDimension{
										{
											Name:                   to.Ptr("TrackName"),
											DisplayName:            to.Ptr("Track name"),
											ToBeExportedForShoebox: to.Ptr(true),
										}},
									DisplayDescription:       to.Ptr("Timestamp of the last fragment uploaded to storage for a live event output."),
									DisplayName:              to.Ptr("Last output timestamp"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MicrosoftMediaLiveEvent"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Maximum")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitMilliseconds),
								}},
						},
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/liveOutputs/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Live Output"),
						Operation:   to.Ptr("Read Live Output"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Output"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/liveOutputs/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Live Output"),
						Operation:   to.Ptr("Create or Update Live Output"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Output"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEvents/liveOutputs/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Live Output"),
						Operation:   to.Ptr("Delete Live Output"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Output"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/streamingEndpointOperations/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Streaming Endpoint Operation"),
						Operation:   to.Ptr("Read Streaming Endpoint Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Streaming Endpoint Operation"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveEventOperations/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Live Event Operation"),
						Operation:   to.Ptr("Read Live Event Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Event Operation"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/liveOutputOperations/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Live Output Operation"),
						Operation:   to.Ptr("Read Live Output Operation"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Output Operation"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/providers/Microsoft.Insights/diagnosticSettings/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Gets the diagnostic setting for the resource."),
						Operation:   to.Ptr("Read diagnostic setting"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
					Origin: to.Ptr("system"),
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/providers/Microsoft.Insights/diagnosticSettings/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Creates or updates the diagnostic setting for the resource."),
						Operation:   to.Ptr("Write diagnostic setting"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Services Account"),
					},
					Origin: to.Ptr("system"),
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/providers/Microsoft.Insights/logDefinitions/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Gets the available logs for a Media Services Account"),
						Operation:   to.Ptr("Read mediaservices log definitions"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("The log definition of mediaservices"),
					},
					Origin: to.Ptr("system"),
					Properties: &armvideoanalyzer.MetricProperties{
						ServiceSpecification: &armvideoanalyzer.ServiceSpecification{
							LogSpecifications: []*armvideoanalyzer.LogSpecification{
								{
									Name:         to.Ptr("KeyDeliveryRequests"),
									BlobDuration: to.Ptr("PT1H"),
									DisplayName:  to.Ptr("Key Delivery Requests"),
								}},
						},
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/mediaservices/providers/Microsoft.Insights/metricDefinitions/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Get list of Media Services Metric definitions."),
						Operation:   to.Ptr("Get list of Media Services Metric definitions."),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Media Service"),
					},
					Origin: to.Ptr("system"),
					Properties: &armvideoanalyzer.MetricProperties{
						ServiceSpecification: &armvideoanalyzer.ServiceSpecification{
							MetricSpecifications: []*armvideoanalyzer.MetricSpecification{
								{
									Name:                     to.Ptr("AssetQuota"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("How many assets are allowed for current media service account"),
									DisplayName:              to.Ptr("Asset quota"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("AssetCount"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("How many assets are already created in current media service account"),
									DisplayName:              to.Ptr("Asset count"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("AssetQuotaUsedPercentage"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("Asset used percentage in current media service account"),
									DisplayName:              to.Ptr("Asset quota used percentage"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnit("Percent")),
								},
								{
									Name:                     to.Ptr("ContentKeyPolicyQuota"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("How many content key polices are allowed for current media service account"),
									DisplayName:              to.Ptr("Content Key Policy quota"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("ContentKeyPolicyCount"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("How many content key policies are already created in current media service account"),
									DisplayName:              to.Ptr("Content Key Policy count"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("ContentKeyPolicyQuotaUsedPercentage"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("Content Key Policy used percentage in current media service account"),
									DisplayName:              to.Ptr("Content Key Policy quota used percentage"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnit("Percent")),
								},
								{
									Name:                     to.Ptr("StreamingPolicyQuota"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("How many streaming policies are allowed for current media service account"),
									DisplayName:              to.Ptr("Streaming Policy quota"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("StreamingPolicyCount"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("How many streaming policies are already created in current media service account"),
									DisplayName:              to.Ptr("Streaming Policy count"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("StreamingPolicyQuotaUsedPercentage"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("Streaming Policy used percentage in current media service account"),
									DisplayName:              to.Ptr("Streaming Policy quota used percentage"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("MediaServiceQuotaAndUsage"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									SupportedTimeGrainTypes: []*string{
										to.Ptr("PT1H"),
										to.Ptr("PT6H"),
										to.Ptr("PT12H"),
										to.Ptr("P1D")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnit("Percent")),
								},
								{
									Name:                     to.Ptr("ChannelsAndLiveEventsCount"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("The total number of live events in the current media services account"),
									DisplayName:              to.Ptr("Live event count"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("ClusterResource_ChannelsAndLiveEvents"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("RunningChannelsAndLiveEventsCount"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("The total number of running live events in the current media services account"),
									DisplayName:              to.Ptr("Running live event count"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("ClusterResource_ChannelsAndLiveEvents"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("MaxChannelsAndLiveEventsCount"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("The maximum number of live events allowed in the current media services account"),
									DisplayName:              to.Ptr("Max live event quota"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("ClusterResource_ChannelsAndLiveEvents"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								},
								{
									Name:                     to.Ptr("MaxRunningChannelsAndLiveEventsCount"),
									AggregationType:          to.Ptr(armvideoanalyzer.MetricAggregationTypeAverage),
									DisplayDescription:       to.Ptr("The maximum number of running live events allowed in the current media services account"),
									DisplayName:              to.Ptr("Max running live event quota"),
									EnableRegionalMdmAccount: to.Ptr(true),
									SourceMdmNamespace:       to.Ptr("ClusterResource_ChannelsAndLiveEvents"),
									SupportedAggregationTypes: []*string{
										to.Ptr("Average")},
									Unit: to.Ptr(armvideoanalyzer.MetricUnitCount),
								}},
						},
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read a Video Analyzer Account"),
						Operation:   to.Ptr("Read a Video Analyzer Account"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Video Analyzer Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update a Video Analyzer Account"),
						Operation:   to.Ptr("Create or Update a Video Analyzer Account"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Video Analyzer Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete a Video Analyzer Account"),
						Operation:   to.Ptr("Delete a Video Analyzer Account"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Video Analyzer Account"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/videos/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Video"),
						Operation:   to.Ptr("Read Video"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Video Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/videos/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Video"),
						Operation:   to.Ptr("Create or Update Video"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Video Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/videos/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Video"),
						Operation:   to.Ptr("Delete Video"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Video Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/videos/listStreamingToken/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Generates a streaming token which can be used for video playback"),
						Operation:   to.Ptr("Generates a streaming token which can be used for video playback"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Video Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/videos/listContentToken/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Generates a content token which can be used for video playback"),
						Operation:   to.Ptr("Generates a content token which can be used for video playback"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Video Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/accessPolicies/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Access Policy"),
						Operation:   to.Ptr("Read Access Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Access Policy Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/accessPolicies/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Access Policy"),
						Operation:   to.Ptr("Create or Update Access Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Access Policy Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/accessPolicies/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Access Policy"),
						Operation:   to.Ptr("Delete Access Policy"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Access Policy Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/edgeModules/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Edge Module"),
						Operation:   to.Ptr("Read Edge Module"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Edge Module Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/edgeModules/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Edge Module"),
						Operation:   to.Ptr("Create or Update Edge Module"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Edge Module Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/edgeModules/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Edge Module"),
						Operation:   to.Ptr("Delete Edge Module"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Edge Module Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/edgeModules/listProvisioningToken/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Creates a new provisioning token. A provisioning token allows for a single instance of Azure Video analyzer IoT edge module to be initialized and authorized to the cloud account. The provisioning token itself is short lived and it is only used for the initial handshake between IoT edge module and the cloud. After the initial handshake, the IoT edge module will agree on a set of authentication keys which will be auto-rotated as long as the module is able to periodically connect to the cloud. A new provisioning token can be generated for the same IoT edge module in case the module state lost or reset"),
						Operation:   to.Ptr("Creates a new provisioning token"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Edge Module Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineTopologies/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Pipeline Topology"),
						Operation:   to.Ptr("Read Pipeline Topology"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Pipeline Topology Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineTopologies/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Pipeline Topology"),
						Operation:   to.Ptr("Create or Update Pipeline Topology"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Pipeline Topology Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineTopologies/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Pipeline Topology"),
						Operation:   to.Ptr("Delete Pipeline Topology"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Pipeline Topology Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Live Pipeline"),
						Operation:   to.Ptr("Read Live Pipeline"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Pipeline Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Live Pipeline"),
						Operation:   to.Ptr("Create or Update Live Pipeline"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Pipeline Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Live Pipeline"),
						Operation:   to.Ptr("Delete Live Pipeline"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Pipeline Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines/activate/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Activate any Live Pipeline"),
						Operation:   to.Ptr("Activate Live Pipeline"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Pipeline Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines/deactivate/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Deactivate any Live Pipeline"),
						Operation:   to.Ptr("Deactivate Live Pipeline"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Pipeline Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/livePipelines/operationsStatus/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Live Pipeline operation status"),
						Operation:   to.Ptr("Read Live Pipeline operation status"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Live Pipeline operation status Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Pipeline Job"),
						Operation:   to.Ptr("Read Pipeline Job"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Pipeline Job Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs/write"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Create or Update any Pipeline Job"),
						Operation:   to.Ptr("Create or Update Pipeline Job"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Pipeline Job Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs/delete"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Delete any Pipeline Job"),
						Operation:   to.Ptr("Delete Pipeline Job"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Pipeline Job Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs/cancel/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Cancel any Pipeline Job"),
						Operation:   to.Ptr("Cancel Pipeline Job"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Pipeline Job Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/videoAnalyzers/pipelineJobs/operationsStatus/read"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Read any Pipeline Job operation status"),
						Operation:   to.Ptr("Read Pipeline Job operation status"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Pipeline Job operation status Resource"),
					},
				},
				{
					Name: to.Ptr("Microsoft.Media/locations/checkNameAvailability/action"),
					Display: &armvideoanalyzer.OperationDisplay{
						Description: to.Ptr("Checks if a Media Services account name is available"),
						Operation:   to.Ptr("Check Name Availability"),
						Provider:    to.Ptr("Microsoft Media Services"),
						Resource:    to.Ptr("Microsoft Media Services"),
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.OperationCollection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.OperationCollection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/operations-list-all.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideoAnalyzers_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-list-all-accounts.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all Video Analyzer accounts"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideoAnalyzersClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.List(ctx,
		"contoso",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-list-all-accounts.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.Collection{
			Value: []*armvideoanalyzer.VideoAnalyzer{
				{
					Name: to.Ptr("contosomovies"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers"),
					ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contoso/providers/Microsoft.Media/videoAnalyzers/contosomovies"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("fakeapplication@contoso.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeApplication),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("fakeuser@contoso.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Location: to.Ptr("South Central US"),
					Tags: map[string]*string{
						"tag1": to.Ptr("value1"),
						"tag2": to.Ptr("value2"),
					},
					Properties: &armvideoanalyzer.Properties{
						IotHubs: []*armvideoanalyzer.IotHub{
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub1"),
								Identity: &armvideoanalyzer.ResourceIdentity{
									UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
								},
								Status: to.Ptr("Ok"),
							},
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub2"),
								Identity: &armvideoanalyzer.ResourceIdentity{
									UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
								},
								Status: to.Ptr("Ok"),
							}},
						PrivateEndpointConnections: []*armvideoanalyzer.PrivateEndpointConnection{
							{
								Name: to.Ptr("00000000-0000-0000-0000-000000000001"),
								Type: to.Ptr("Microsoft.Media/videoAnalyzers/privateEndpointConnections"),
								ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Media/videoAnalyzers/contososports/privateEndpointConnections/00000000-0000-0000-0000-000000000001"),
								Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
									PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
										ID: to.Ptr("/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/reosuceGroup1/providers/Microsoft.Network/privateEndpoints/pe1"),
									},
									PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
										Description: to.Ptr("test description"),
										Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusApproved),
									},
									ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
								},
							},
							{
								Name: to.Ptr("00000000-0000-0000-0000-000000000002"),
								Type: to.Ptr("Microsoft.Media/videoAnalyzers/privateEndpointConnections"),
								ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Media/videoAnalyzers/contososports/privateEndpointConnections/00000000-0000-0000-0000-000000000002"),
								Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
									PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
										ID: to.Ptr("/subscriptions/22222222-2222-2222-2222-222222222222/resourceGroups/reosuceGroup2/providers/Microsoft.Network/privateEndpoints/pe2"),
									},
									PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
										Description: to.Ptr("test description"),
										Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusPending),
									},
									ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
								},
							}},
						ProvisioningState: to.Ptr(armvideoanalyzer.ProvisioningStateSucceeded),
						StorageAccounts: []*armvideoanalyzer.StorageAccount{
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contoso/providers/Microsoft.Storage/storageAccounts/contosomoviesstore"),
							}},
					},
				},
				{
					Name: to.Ptr("contosotv"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers"),
					ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contoso/providers/Microsoft.Media/videoAnalyzers/contosotv"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("fakeapplication@contoso.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeApplication),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("fakeuser@contoso.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Location: to.Ptr("South Central US"),
					Tags: map[string]*string{
						"tag1": to.Ptr("value1"),
						"tag2": to.Ptr("value2"),
					},
					Properties: &armvideoanalyzer.Properties{
						IotHubs: []*armvideoanalyzer.IotHub{
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub1"),
								Identity: &armvideoanalyzer.ResourceIdentity{
									UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
								},
								Status: to.Ptr("Ok"),
							},
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub2"),
								Identity: &armvideoanalyzer.ResourceIdentity{
									UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
								},
								Status: to.Ptr("Ok"),
							}},
						PrivateEndpointConnections: []*armvideoanalyzer.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armvideoanalyzer.ProvisioningStateSucceeded),
						StorageAccounts: []*armvideoanalyzer.StorageAccount{
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contoso/providers/Microsoft.Storage/storageAccounts/contosotvstore"),
							}},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.Collection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.Collection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-list-all-accounts.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideoAnalyzers_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-get-by-name.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get a Video Analyzer account by name"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideoAnalyzersClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.Get(ctx,
		"contoso",
		"contosotv",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-get-by-name.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.VideoAnalyzer{
			Name: to.Ptr("contosomovies"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers"),
			ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contoso/providers/Microsoft.Media/videoAnalyzers/contosomovies"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("fakeapplication@contoso.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeApplication),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("fakeuser@contoso.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Location: to.Ptr("South Central US"),
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Identity: &armvideoanalyzer.Identity{
				Type: to.Ptr("UserAssigned"),
				UserAssignedIdentities: map[string]*armvideoanalyzer.UserAssignedManagedIdentity{
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
				},
			},
			Properties: &armvideoanalyzer.Properties{
				Encryption: &armvideoanalyzer.AccountEncryption{
					Type: to.Ptr(armvideoanalyzer.AccountEncryptionKeyTypeSystemKey),
				},
				Endpoints: []*armvideoanalyzer.Endpoint{
					{
						Type:        to.Ptr(armvideoanalyzer.VideoAnalyzerEndpointTypeClientAPI),
						EndpointURL: to.Ptr("https://77d7106674e0454eba85e5ede58cedbc.api.southcentralus.videoanalyzer.azure.net"),
					}},
				IotHubs: []*armvideoanalyzer.IotHub{
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub1"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
						},
						Status: to.Ptr("Ok"),
					},
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub2"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
						},
						Status: to.Ptr("Ok"),
					}},
				PrivateEndpointConnections: []*armvideoanalyzer.PrivateEndpointConnection{
					{
						Name: to.Ptr("00000000-0000-0000-0000-000000000001"),
						Type: to.Ptr("Microsoft.Media/videoAnalyzers/privateEndpointConnections"),
						ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Media/videoAnalyzers/contososports/privateEndpointConnections/00000000-0000-0000-0000-000000000001"),
						Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
							PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
								ID: to.Ptr("/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/reosuceGroup1/providers/Microsoft.Network/privateEndpoints/pe1"),
							},
							PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
								Description: to.Ptr("test description"),
								Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusApproved),
							},
							ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
						},
					},
					{
						Name: to.Ptr("00000000-0000-0000-0000-000000000002"),
						Type: to.Ptr("Microsoft.Media/videoAnalyzers/privateEndpointConnections"),
						ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Media/videoAnalyzers/contososports/privateEndpointConnections/00000000-0000-0000-0000-000000000002"),
						Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
							PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
								ID: to.Ptr("/subscriptions/22222222-2222-2222-2222-222222222222/resourceGroups/reosuceGroup2/providers/Microsoft.Network/privateEndpoints/pe2"),
							},
							PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
								Description: to.Ptr("test description"),
								Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusPending),
							},
							ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
						},
					}},
				ProvisioningState: to.Ptr(armvideoanalyzer.ProvisioningStateSucceeded),
				StorageAccounts: []*armvideoanalyzer.StorageAccount{
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Storage/storageAccounts/storage1"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2"),
						},
						Status: to.Ptr("identityDisconnected"),
					}},
			},
		}
		if !reflect.DeepEqual(exampleRes, res.VideoAnalyzer) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.VideoAnalyzer)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-get-by-name.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideoAnalyzers_CreateOrUpdate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-create-or-update.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create a Video Analyzer account"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideoAnalyzersClient("00000000-0000-0000-0000-000000000000", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"contoso",
		"contosotv",
		armvideoanalyzer.VideoAnalyzer{
			Location: to.Ptr("South Central US"),
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Identity: &armvideoanalyzer.Identity{
				Type: to.Ptr("UserAssigned"),
				UserAssignedIdentities: map[string]*armvideoanalyzer.UserAssignedManagedIdentity{
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {},
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2": {},
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3": {},
				},
			},
			Properties: &armvideoanalyzer.Properties{
				Encryption: &armvideoanalyzer.AccountEncryption{
					Type: to.Ptr(armvideoanalyzer.AccountEncryptionKeyTypeSystemKey),
				},
				IotHubs: []*armvideoanalyzer.IotHub{
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub1"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
						},
					},
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub2"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
						},
					}},
				StorageAccounts: []*armvideoanalyzer.StorageAccount{
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Storage/storageAccounts/storage1"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2"),
						},
					}},
			},
		},
		&armvideoanalyzer.VideoAnalyzersClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-create-or-update.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-create-or-update.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.VideoAnalyzer{
			Name: to.Ptr("contosomovies"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers"),
			ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contoso/providers/Microsoft.Media/videoAnalyzers/contosomovies"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("fakeapplication@contoso.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeApplication),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("fakeuser@contoso.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Location: to.Ptr("South Central US"),
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Identity: &armvideoanalyzer.Identity{
				Type: to.Ptr("UserAssigned"),
				UserAssignedIdentities: map[string]*armvideoanalyzer.UserAssignedManagedIdentity{
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
				},
			},
			Properties: &armvideoanalyzer.Properties{
				Encryption: &armvideoanalyzer.AccountEncryption{
					Type: to.Ptr(armvideoanalyzer.AccountEncryptionKeyTypeSystemKey),
				},
				Endpoints: []*armvideoanalyzer.Endpoint{
					{
						Type:        to.Ptr(armvideoanalyzer.VideoAnalyzerEndpointTypeClientAPI),
						EndpointURL: to.Ptr("https://77d7106674e0454eba85e5ede58cedbc.api.southcentralus.videoanalyzer.azure.net"),
					}},
				IotHubs: []*armvideoanalyzer.IotHub{
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub1"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
						},
						Status: to.Ptr("Ok"),
					},
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub2"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
						},
						Status: to.Ptr("Ok"),
					}},
				PrivateEndpointConnections: []*armvideoanalyzer.PrivateEndpointConnection{
					{
						Name: to.Ptr("00000000-0000-0000-0000-000000000001"),
						Type: to.Ptr("Microsoft.Media/videoAnalyzers/privateEndpointConnections"),
						ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Media/videoAnalyzers/contososports/privateEndpointConnections/00000000-0000-0000-0000-000000000001"),
						Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
							PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
								ID: to.Ptr("/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/reosuceGroup1/providers/Microsoft.Network/privateEndpoints/pe1"),
							},
							PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
								Description: to.Ptr("test description"),
								Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusApproved),
							},
							ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
						},
					},
					{
						Name: to.Ptr("00000000-0000-0000-0000-000000000002"),
						Type: to.Ptr("Microsoft.Media/videoAnalyzers/privateEndpointConnections"),
						ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Media/videoAnalyzers/contososports/privateEndpointConnections/00000000-0000-0000-0000-000000000002"),
						Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
							PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
								ID: to.Ptr("/subscriptions/22222222-2222-2222-2222-222222222222/resourceGroups/reosuceGroup2/providers/Microsoft.Network/privateEndpoints/pe2"),
							},
							PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
								Description: to.Ptr("test description"),
								Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusPending),
							},
							ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
						},
					}},
				ProvisioningState: to.Ptr(armvideoanalyzer.ProvisioningStateSucceeded),
				StorageAccounts: []*armvideoanalyzer.StorageAccount{
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Storage/storageAccounts/storage1"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2"),
						},
					}},
			},
		}
		if !reflect.DeepEqual(exampleRes, res.VideoAnalyzer) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.VideoAnalyzer)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-create-or-update.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideoAnalyzers_Delete(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-delete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete a Video Analyzer account"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideoAnalyzersClient("00000000-0000-0000-0000-000000000000", cred, &options)
	_, err := client.Delete(ctx,
		"contoso",
		"contosotv",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-delete.json: %v", err)
	}
}

func TestVideoAnalyzers_Update(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-update.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Update a Video Analyzer accounts"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideoAnalyzersClient("00000000-0000-0000-0000-000000000000", cred, &options)
	poller, err := client.BeginUpdate(ctx,
		"contoso",
		"contosotv",
		armvideoanalyzer.Update{
			Tags: map[string]*string{
				"key1": to.Ptr("value3"),
			},
		},
		&armvideoanalyzer.VideoAnalyzersClientBeginUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-update.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-update.json: %v", err)
	}
}

func TestVideoAnalyzers_ListBySubscription(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-subscription-list-all-accounts.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all Video Analyzer accounts in the specified subscription"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideoAnalyzersClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.ListBySubscription(ctx,
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-subscription-list-all-accounts.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.Collection{
			Value: []*armvideoanalyzer.VideoAnalyzer{
				{
					Name: to.Ptr("contosomovies"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers"),
					ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contoso/providers/Microsoft.Media/videoAnalyzers/contosomovies"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("fakeapplication@contoso.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeApplication),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("fakeuser@contoso.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Location: to.Ptr("South Central US"),
					Tags: map[string]*string{
						"tag1": to.Ptr("value1"),
						"tag2": to.Ptr("value2"),
					},
					Identity: &armvideoanalyzer.Identity{
						Type: to.Ptr("UserAssigned"),
						UserAssignedIdentities: map[string]*armvideoanalyzer.UserAssignedManagedIdentity{
							"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {
								ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
								PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
							},
							"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2": {
								ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
								PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
							},
							"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3": {
								ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
								PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
							},
						},
					},
					Properties: &armvideoanalyzer.Properties{
						Encryption: &armvideoanalyzer.AccountEncryption{
							Type: to.Ptr(armvideoanalyzer.AccountEncryptionKeyTypeSystemKey),
						},
						IotHubs: []*armvideoanalyzer.IotHub{
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub1"),
								Identity: &armvideoanalyzer.ResourceIdentity{
									UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
								},
								Status: to.Ptr("Ok"),
							},
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Devices/IotHubs/hub2"),
								Identity: &armvideoanalyzer.ResourceIdentity{
									UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3"),
								},
								Status: to.Ptr("Ok"),
							}},
						PrivateEndpointConnections: []*armvideoanalyzer.PrivateEndpointConnection{
							{
								Name: to.Ptr("00000000-0000-0000-0000-000000000001"),
								Type: to.Ptr("Microsoft.Media/videoAnalyzers/privateEndpointConnections"),
								ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Media/videoAnalyzers/contososports/privateEndpointConnections/00000000-0000-0000-0000-000000000001"),
								Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
									PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
										ID: to.Ptr("/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/reosuceGroup1/providers/Microsoft.Network/privateEndpoints/pe1"),
									},
									PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
										Description: to.Ptr("test description"),
										Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusApproved),
									},
									ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
								},
							},
							{
								Name: to.Ptr("00000000-0000-0000-0000-000000000002"),
								Type: to.Ptr("Microsoft.Media/videoAnalyzers/privateEndpointConnections"),
								ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Media/videoAnalyzers/contososports/privateEndpointConnections/00000000-0000-0000-0000-000000000002"),
								Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
									PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
										ID: to.Ptr("/subscriptions/22222222-2222-2222-2222-222222222222/resourceGroups/reosuceGroup2/providers/Microsoft.Network/privateEndpoints/pe2"),
									},
									PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
										Description: to.Ptr("test description"),
										Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusPending),
									},
									ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
								},
							}},
						ProvisioningState: to.Ptr(armvideoanalyzer.ProvisioningStateSucceeded),
						StorageAccounts: []*armvideoanalyzer.StorageAccount{
							{
								ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Storage/storageAccounts/storage1"),
								Identity: &armvideoanalyzer.ResourceIdentity{
									UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2"),
								},
							}},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.Collection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.Collection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-accounts-subscription-list-all-accounts.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkResources_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-link-resources-list.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get list of all group IDs."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPrivateLinkResourcesClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.List(ctx,
		"contoso",
		"contososports",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-link-resources-list.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PrivateLinkResourceListResult{
			Value: []*armvideoanalyzer.PrivateLinkResource{
				{
					Name: to.Ptr("integration"),
					Type: to.Ptr("Microsoft.Media/videoanalyzers/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateLinkResources/integration"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.PrivateLinkResourceProperties{
						GroupID: to.Ptr("integration"),
						RequiredMembers: []*string{
							to.Ptr("edgeapi")},
					},
				},
				{
					Name: to.Ptr("ingestion"),
					Type: to.Ptr("Microsoft.Media/videoanalyzers/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateLinkResources/ingestion"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.PrivateLinkResourceProperties{
						GroupID: to.Ptr("ingestion"),
						RequiredMembers: []*string{
							to.Ptr("devicetunnel")},
					},
				},
				{
					Name: to.Ptr("consumption"),
					Type: to.Ptr("Microsoft.Media/videoanalyzers/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateLinkResources/consumption"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.PrivateLinkResourceProperties{
						GroupID: to.Ptr("consumption"),
						RequiredMembers: []*string{
							to.Ptr("clientapi"),
							to.Ptr("rtsptunnel"),
							to.Ptr("streaming")},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResourceListResult) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResourceListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-link-resources-list.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkResources_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-link-resources-get-by-name.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get details of a group ID."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPrivateLinkResourcesClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.Get(ctx,
		"contoso",
		"contososports",
		"integration",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-link-resources-get-by-name.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PrivateLinkResource{
			Name: to.Ptr("integration"),
			Type: to.Ptr("Microsoft.Media/videoanalyzers/privateLinkResources"),
			ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateLinkResources/integration"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.PrivateLinkResourceProperties{
				GroupID: to.Ptr("integration"),
				RequiredMembers: []*string{
					to.Ptr("edgeapi")},
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResource) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResource)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-link-resources-get-by-name.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnections_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-list.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get all private endpoint connections."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPrivateEndpointConnectionsClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.List(ctx,
		"contoso",
		"contososports",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-list.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PrivateEndpointConnectionListResult{
			Value: []*armvideoanalyzer.PrivateEndpointConnection{
				{
					Name: to.Ptr("10000000-0000-0000-0000-000000000000"),
					Type: to.Ptr("Microsoft.Media/videoanalyzers/privateEndpointConnections"),
					ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateEndpointConnections/10000000-0000-0000-0000-000000000000"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
						PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
							ID: to.Ptr("/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/reosuceGroup1/providers/Microsoft.Network/privateEndpoints/pe1"),
						},
						PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
							Description: to.Ptr("Test description"),
							Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusApproved),
						},
						ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
					},
				},
				{
					Name: to.Ptr("20000000-0000-0000-0000-000000000000"),
					Type: to.Ptr("Microsoft.Media/videoanalyzers/privateEndpointConnections"),
					ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateEndpointConnections/20000000-0000-0000-0000-000000000000"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
						PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
							ID: to.Ptr("/subscriptions/22222222-2222-2222-2222-222222222222/resourceGroups/reosuceGroup2/providers/Microsoft.Network/privateEndpoints/pe2"),
						},
						PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
							Description: to.Ptr("Test description"),
							Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusPending),
						},
						ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnectionListResult) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnectionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-list.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnections_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-get-by-name.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get private endpoint connection."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPrivateEndpointConnectionsClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.Get(ctx,
		"contoso",
		"contososports",
		"10000000-0000-0000-0000-000000000000",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-get-by-name.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PrivateEndpointConnection{
			Name: to.Ptr("10000000-0000-0000-0000-000000000000"),
			Type: to.Ptr("Microsoft.Media/videoanalyzers/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateEndpointConnections/10000000-0000-0000-0000-000000000000"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/reosuceGroup1/providers/Microsoft.Network/privateEndpoints/privateEndpointName1"),
				},
				PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Test description."),
					Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusApproved),
				},
				ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-get-by-name.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnections_CreateOrUpdate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-put.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Update private endpoint connection."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPrivateEndpointConnectionsClient("00000000-0000-0000-0000-000000000000", cred, &options)
	_, err := client.CreateOrUpdate(ctx,
		"contoso",
		"contososports",
		"10000000-0000-0000-0000-000000000000",
		armvideoanalyzer.PrivateEndpointConnection{
			Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
				PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Test description."),
					Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-put.json: %v", err)
	}
}

func TestPrivateEndpointConnections_Delete(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-delete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete private endpoint connection."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPrivateEndpointConnectionsClient("00000000-0000-0000-0000-000000000000", cred, &options)
	_, err := client.Delete(ctx,
		"contoso",
		"contososports",
		"connectionName1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-delete.json: %v", err)
	}
}

func TestPrivateEndpointConnectionsOperationStatuses_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-operation-status-by-id-terminal-state.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get status of private endpoint asynchronous operation when it is completed."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPrivateEndpointConnectionsOperationStatusesClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.Get(ctx,
		"contoso",
		"contososports",
		"D612C429-2526-49D5-961B-885AE11406FD",
		"CDE44A33-DD32-4FFA-A1BC-601DC4D52B03",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-operation-status-by-id-terminal-state.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PrivateEndpointConnectionOperationStatus{
			Name:      to.Ptr("CDE44A33-DD32-4FFA-A1BC-601DC4D52B03"),
			EndTime:   to.Ptr("2021-01-01T12:56:36.002812-08:00"),
			ID:        to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateEndpointConnections/D612C429-2526-49D5-961B-885AE11406FD/operationStatuses/CDE44A33-DD32-4FFA-A1BC-601DC4D52B03"),
			StartTime: to.Ptr("2021-01-01T12:56:36.002812-08:00"),
			Status:    to.Ptr("Succeeded"),
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnectionOperationStatus) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnectionOperationStatus)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-operation-status-by-id-terminal-state.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsOperationResults_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-operation-result-by-id.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get status of private endpoint connection asynchronous operation."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewPrivateEndpointConnectionsOperationResultsClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.Get(ctx,
		"contoso",
		"contososports",
		"6FBA62C4-99B5-4FF8-9826-FC4744A8864F",
		"10000000-0000-0000-0000-000000000000",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-operation-result-by-id.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.PrivateEndpointConnection{
			Name: to.Ptr("10000000-0000-0000-0000-000000000000"),
			Type: to.Ptr("Microsoft.Media/videoanalyzers/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/fabrikam/providers/Microsoft.Media/videoanalyzers/contososports/privateEndpointConnections/10000000-0000-0000-0000-000000000000"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armvideoanalyzer.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/11111111-1111-1111-1111-111111111111/resourceGroups/reosuceGroup1/providers/Microsoft.Network/privateEndpoints/privateEndpointName1"),
				},
				PrivateLinkServiceConnectionState: &armvideoanalyzer.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Test description."),
					Status:      to.Ptr(armvideoanalyzer.PrivateEndpointServiceConnectionStatusApproved),
				},
				ProvisioningState: to.Ptr(armvideoanalyzer.PrivateEndpointConnectionProvisioningStateSucceeded),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-private-endpoint-connection-operation-result-by-id.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideoAnalyzerOperationStatuses_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-non-terminal-state-failed.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get status of asynchronous operation when it is completed with error."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewOperationStatusesClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.Get(ctx,
		"westus",
		"D612C429-2526-49D5-961B-885AE11406FD",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-non-terminal-state-failed.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.OperationStatus{
			Name:    to.Ptr("D612C429-2526-49D5-961B-885AE11406FD"),
			EndTime: to.Ptr("2021-01-01T12:56:36.002812-08:00"),
			Error: &armvideoanalyzer.ErrorDetail{
				Code:    to.Ptr("BadRequest"),
				Message: to.Ptr("Storage account cannot be accessed."),
			},
			ID:        to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus/VideoAnalyzerOperationStatuses/D612C429-2526-49D5-961B-885AE11406FD"),
			StartTime: to.Ptr("2021-01-01T12:56:36.002812-08:00"),
			Status:    to.Ptr("Failed"),
		}
		if !reflect.DeepEqual(exampleRes, res.OperationStatus) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.OperationStatus)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-non-terminal-state-failed.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-terminal-state.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get status of asynchronous operation when it is completed."},
	})
	client = armvideoanalyzer.NewOperationStatusesClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err = client.Get(ctx,
		"westus",
		"D612C429-2526-49D5-961B-885AE11406FD",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-terminal-state.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.OperationStatus{
			Name:      to.Ptr("D612C429-2526-49D5-961B-885AE11406FD"),
			EndTime:   to.Ptr("2021-01-01T12:56:36.002812-08:00"),
			ID:        to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus/VideoAnalyzerOperationStatuses/D612C429-2526-49D5-961B-885AE11406FD"),
			StartTime: to.Ptr("2021-01-01T12:56:36.002812-08:00"),
			Status:    to.Ptr("Succeeded"),
		}
		if !reflect.DeepEqual(exampleRes, res.OperationStatus) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.OperationStatus)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-terminal-state.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-non-terminal-state.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get status of asynchronous operation when it is ongoing."},
	})
	client = armvideoanalyzer.NewOperationStatusesClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err = client.Get(ctx,
		"westus",
		"D612C429-2526-49D5-961B-885AE11406FD",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-non-terminal-state.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.OperationStatus{
			Name:      to.Ptr("D612C429-2526-49D5-961B-885AE11406FD"),
			EndTime:   to.Ptr("2021-01-01T12:56:36.002812-08:00"),
			ID:        to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus/VideoAnalyzerOperationStatuses/D612C429-2526-49D5-961B-885AE11406FD"),
			StartTime: to.Ptr("2021-01-01T12:56:36.002812-08:00"),
			Status:    to.Ptr("InProgress"),
		}
		if !reflect.DeepEqual(exampleRes, res.OperationStatus) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.OperationStatus)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-status-by-id-non-terminal-state.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideoAnalyzerOperationResults_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-result-by-id.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get status of asynchronous operation."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewOperationResultsClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.Get(ctx,
		"westus",
		"6FBA62C4-99B5-4FF8-9826-FC4744A8864F",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-result-by-id.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.VideoAnalyzer{
			Name: to.Ptr("contosomovies"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers"),
			ID:   to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contoso/providers/Microsoft.Media/videoAnalyzers/contosomovies"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("fakeapplication@contoso.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeApplication),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("fakeuser@contoso.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Location: to.Ptr("South Central US"),
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Identity: &armvideoanalyzer.Identity{
				Type: to.Ptr("UserAssigned"),
				UserAssignedIdentities: map[string]*armvideoanalyzer.UserAssignedManagedIdentity{
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
					"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id3": {
						ClientID:    to.Ptr("00000000-0000-0000-0000-000000000000"),
						PrincipalID: to.Ptr("00000000-0000-0000-0000-000000000000"),
					},
				},
			},
			Properties: &armvideoanalyzer.Properties{
				Encryption: &armvideoanalyzer.AccountEncryption{
					Type: to.Ptr(armvideoanalyzer.AccountEncryptionKeyTypeSystemKey),
				},
				Endpoints: []*armvideoanalyzer.Endpoint{
					{
						Type:        to.Ptr(armvideoanalyzer.VideoAnalyzerEndpointTypeClientAPI),
						EndpointURL: to.Ptr("https://77d7106674e0454eba85e5ede58cedbc.api.southcentralus.videoanalyzer.azure.net"),
					}},
				StorageAccounts: []*armvideoanalyzer.StorageAccount{
					{
						ID: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.Storage/storageAccounts/storage1"),
						Identity: &armvideoanalyzer.ResourceIdentity{
							UserAssignedIdentity: to.Ptr("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2"),
						},
					}},
			},
		}
		if !reflect.DeepEqual(exampleRes, res.VideoAnalyzer) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.VideoAnalyzer)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-analyzer-operation-result-by-id.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestLocations_CheckNameAvailability(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/accounts-check-name-availability.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Check Name Availability"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewLocationsClient("00000000-0000-0000-0000-000000000000", cred, &options)
	res, err := client.CheckNameAvailability(ctx,
		"japanwest",
		armvideoanalyzer.CheckNameAvailabilityRequest{
			Name: to.Ptr("contosotv"),
			Type: to.Ptr("videoAnalyzers"),
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/accounts-check-name-availability.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.CheckNameAvailabilityResponse{
			Message:       to.Ptr(""),
			NameAvailable: to.Ptr(true),
			Reason:        to.Ptr(armvideoanalyzer.CheckNameAvailabilityReason("None")),
		}
		if !reflect.DeepEqual(exampleRes, res.CheckNameAvailabilityResponse) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.CheckNameAvailabilityResponse)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/accounts-check-name-availability.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideos_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-list.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Lists video entities."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideosClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	pager := client.List("testrg",
		"testaccount2",
		&armvideoanalyzer.VideosClientListOptions{Top: to.Ptr[int32](2)})
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-list.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armvideoanalyzer.VideoEntityCollection{
			Value: []*armvideoanalyzer.VideoEntity{
				{
					Name: to.Ptr("video1"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/videos"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/videos/video1"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.VideoProperties{
						Type:        to.Ptr(armvideoanalyzer.VideoTypeArchive),
						Description: to.Ptr("Sample Description 1"),
						Archival: &armvideoanalyzer.VideoArchival{
							RetentionPeriod: to.Ptr("P2D"),
						},
						ContentUrls: &armvideoanalyzer.VideoContentUrls{
							ArchiveBaseURL: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/content.ism"),
							DownloadURL:    to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/content.mp4"),
							PreviewImageUrls: &armvideoanalyzer.VideoPreviewImageUrls{
								Large:  to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/large.jpg"),
								Medium: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/medium.jpg"),
								Small:  to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/small.jpg"),
							},
							RtspTunnelURL: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62"),
						},
						Flags: &armvideoanalyzer.VideoFlags{
							CanStream: to.Ptr(true),
							HasData:   to.Ptr(true),
							IsInUse:   to.Ptr(false),
						},
						MediaInfo: &armvideoanalyzer.VideoMediaInfo{
							SegmentLength: to.Ptr("PT30S"),
						},
						Title: to.Ptr("Sample Title 1"),
					},
				},
				{
					Name: to.Ptr("video2"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/videos"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/videos/video2"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.VideoProperties{
						Type:        to.Ptr(armvideoanalyzer.VideoTypeFile),
						Description: to.Ptr("Sample Description 2"),
						Flags: &armvideoanalyzer.VideoFlags{
							CanStream: to.Ptr(false),
							HasData:   to.Ptr(false),
							IsInUse:   to.Ptr(false),
						},
						Title: to.Ptr("Sample Title 2"),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.VideoEntityCollection) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.VideoEntityCollection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-list.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideos_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-get.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Gets a video entity."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideosClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Get(ctx,
		"testrg",
		"testaccount2",
		"video1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-get.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.VideoEntity{
			Name: to.Ptr("video1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/videos"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/videos/video1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.VideoProperties{
				Type:        to.Ptr(armvideoanalyzer.VideoTypeArchive),
				Description: to.Ptr("Sample Description 1"),
				Archival: &armvideoanalyzer.VideoArchival{
					RetentionPeriod: to.Ptr("P2D"),
				},
				ContentUrls: &armvideoanalyzer.VideoContentUrls{
					ArchiveBaseURL: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/content.ism"),
					DownloadURL:    to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/content.mp4"),
					PreviewImageUrls: &armvideoanalyzer.VideoPreviewImageUrls{
						Large:  to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/large.jpg"),
						Medium: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/medium.jpg"),
						Small:  to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/small.jpg"),
					},
					RtspTunnelURL: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62"),
				},
				Flags: &armvideoanalyzer.VideoFlags{
					CanStream: to.Ptr(true),
					HasData:   to.Ptr(true),
					IsInUse:   to.Ptr(false),
				},
				MediaInfo: &armvideoanalyzer.VideoMediaInfo{
					SegmentLength: to.Ptr("PT30S"),
				},
				Title: to.Ptr("Sample Title 1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.VideoEntity) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.VideoEntity)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-get.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideos_CreateOrUpdate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-create.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Register video entity."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideosClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.CreateOrUpdate(ctx,
		"testrg",
		"testaccount2",
		"video1",
		armvideoanalyzer.VideoEntity{
			Properties: &armvideoanalyzer.VideoProperties{
				Description: to.Ptr("Sample Description 1"),
				Title:       to.Ptr("Sample Title 1"),
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-create.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.VideoEntity{
			Name: to.Ptr("video1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/videos"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/videos/video1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.VideoProperties{
				Type:        to.Ptr(armvideoanalyzer.VideoTypeArchive),
				Description: to.Ptr("Sample Description 1"),
				Archival: &armvideoanalyzer.VideoArchival{
					RetentionPeriod: to.Ptr("P7D"),
				},
				ContentUrls: &armvideoanalyzer.VideoContentUrls{
					ArchiveBaseURL: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/content.ism"),
					DownloadURL:    to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/content.mp4"),
					PreviewImageUrls: &armvideoanalyzer.VideoPreviewImageUrls{
						Large:  to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/large.jpg"),
						Medium: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/medium.jpg"),
						Small:  to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62/images/latest/small.jpg"),
					},
					RtspTunnelURL: to.Ptr("https://591e76c33e9744db879c3e2b12961b62.streaming.westus.videoanalyzer.net/591e76c33e9744db879c3e2b12961b62"),
				},
				Flags: &armvideoanalyzer.VideoFlags{
					CanStream: to.Ptr(true),
					HasData:   to.Ptr(true),
					IsInUse:   to.Ptr(false),
				},
				MediaInfo: &armvideoanalyzer.VideoMediaInfo{
					SegmentLength: to.Ptr("PT30S"),
				},
				Title: to.Ptr("Sample Title 1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.VideoEntity) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.VideoEntity)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-create.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideos_Delete(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-delete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Deletes a video entity."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideosClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	_, err := client.Delete(ctx,
		"testrg",
		"testaccount2",
		"video1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-delete.json: %v", err)
	}
}

func TestVideos_Update(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-patch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Update video entity."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideosClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Update(ctx,
		"testrg",
		"testaccount2",
		"video1",
		armvideoanalyzer.VideoEntity{
			Properties: &armvideoanalyzer.VideoProperties{
				Description: to.Ptr("Parking Lot East Entrance"),
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-patch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.VideoEntity{
			Name: to.Ptr("video1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/videos"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/videos/video1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.VideoProperties{
				Type:        to.Ptr(armvideoanalyzer.VideoTypeArchive),
				Description: to.Ptr("Parking Lot East Entrance"),
				Archival: &armvideoanalyzer.VideoArchival{
					RetentionPeriod: to.Ptr("P2D"),
				},
				Flags: &armvideoanalyzer.VideoFlags{
					CanStream: to.Ptr(false),
					HasData:   to.Ptr(false),
					IsInUse:   to.Ptr(false),
				},
				Title: to.Ptr("Sample Title 1"),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.VideoEntity) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.VideoEntity)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-patch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestVideos_ListContentToken(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-listContentToken.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Generate a content token for media endpoint authorization."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewVideosClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.ListContentToken(ctx,
		"testrg",
		"testaccount2",
		"video3",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-listContentToken.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.VideoContentToken{
			ExpirationDate: to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "3021-01-23T11:04:49.0526841-08:00"); return t }()),
			Token:          to.Ptr("testtoken"),
		}
		if !reflect.DeepEqual(exampleRes, res.VideoContentToken) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.VideoContentToken)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/video-listContentToken.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestAccessPolicies_List(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-list.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Lists access policy entities."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewAccessPoliciesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	pager := client.List("testrg",
		"testaccount2",
		&armvideoanalyzer.AccessPoliciesClientListOptions{Top: to.Ptr[int32](2)})
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-list.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armvideoanalyzer.AccessPolicyEntityCollection{
			Value: []*armvideoanalyzer.AccessPolicyEntity{
				{
					Name: to.Ptr("accessPolicyName1"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/accesspolicies"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/accesspolicies/accessPolicyName1"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.AccessPolicyProperties{
						Authentication: &armvideoanalyzer.JwtAuthentication{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.JwtAuthentication"),
							Audiences: []*string{
								to.Ptr("audience")},
							Claims: []*armvideoanalyzer.TokenClaim{
								{
									Name:  to.Ptr("claimname1"),
									Value: to.Ptr("claimvalue1"),
								},
								{
									Name:  to.Ptr("claimname2"),
									Value: to.Ptr("claimvalue2"),
								}},
							Issuers: []*string{
								to.Ptr("issuer1"),
								to.Ptr("issuer2")},
							Keys: []armvideoanalyzer.TokenKeyClassification{
								&armvideoanalyzer.RsaTokenKey{
									Type: to.Ptr("#Microsoft.VideoAnalyzer.RsaTokenKey"),
									Kid:  to.Ptr("123"),
									Alg:  to.Ptr(armvideoanalyzer.AccessPolicyRsaAlgoRS256),
									E:    to.Ptr("ZLFzZTY0IQ=="),
									N:    to.Ptr("YmFzZTY0IQ=="),
								},
								&armvideoanalyzer.EccTokenKey{
									Type: to.Ptr("#Microsoft.VideoAnalyzer.EccTokenKey"),
									Kid:  to.Ptr("124"),
									Alg:  to.Ptr(armvideoanalyzer.AccessPolicyEccAlgoES256),
									X:    to.Ptr("XX=="),
									Y:    to.Ptr("YY=="),
								}},
						},
						Role: to.Ptr(armvideoanalyzer.AccessPolicyRoleReader),
					},
				},
				{
					Name: to.Ptr("accessPolicyName2"),
					Type: to.Ptr("Microsoft.Media/videoAnalyzers/accesspolicies"),
					ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/accesspolicies/accessPolicyName2"),
					SystemData: &armvideoanalyzer.SystemData{
						CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						CreatedBy:          to.Ptr("user@microsoft.com"),
						CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
						LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
						LastModifiedBy:     to.Ptr("user@microsoft.com"),
						LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
					},
					Properties: &armvideoanalyzer.AccessPolicyProperties{
						Authentication: &armvideoanalyzer.JwtAuthentication{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.JwtAuthentication"),
							Audiences: []*string{
								to.Ptr("audience")},
							Claims: []*armvideoanalyzer.TokenClaim{
								{
									Name:  to.Ptr("claimname1"),
									Value: to.Ptr("claimvalue1"),
								},
								{
									Name:  to.Ptr("claimname2"),
									Value: to.Ptr("claimvalue2"),
								}},
							Issuers: []*string{
								to.Ptr("issuer1"),
								to.Ptr("issuer2")},
							Keys: []armvideoanalyzer.TokenKeyClassification{
								&armvideoanalyzer.RsaTokenKey{
									Type: to.Ptr("#Microsoft.VideoAnalyzer.RsaTokenKey"),
									Kid:  to.Ptr("123"),
									Alg:  to.Ptr(armvideoanalyzer.AccessPolicyRsaAlgoRS256),
									E:    to.Ptr("ZLFzZTY0IQ=="),
									N:    to.Ptr("YmFzZTY0IQ=="),
								},
								&armvideoanalyzer.EccTokenKey{
									Type: to.Ptr("#Microsoft.VideoAnalyzer.EccTokenKey"),
									Kid:  to.Ptr("124"),
									Alg:  to.Ptr(armvideoanalyzer.AccessPolicyEccAlgoES256),
									X:    to.Ptr("XX=="),
									Y:    to.Ptr("YY=="),
								}},
						},
						Role: to.Ptr(armvideoanalyzer.AccessPolicyRoleReader),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.AccessPolicyEntityCollection) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.AccessPolicyEntityCollection)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-list.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestAccessPolicies_Get(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-get.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Gets an access policy entity."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewAccessPoliciesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Get(ctx,
		"testrg",
		"testaccount2",
		"accessPolicyName1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-get.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.AccessPolicyEntity{
			Name: to.Ptr("accessPolicyName1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/accesspolicies"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/accesspolicies/accessPolicyName1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.AccessPolicyProperties{
				Authentication: &armvideoanalyzer.JwtAuthentication{
					Type: to.Ptr("#Microsoft.VideoAnalyzer.JwtAuthentication"),
					Audiences: []*string{
						to.Ptr("audience")},
					Claims: []*armvideoanalyzer.TokenClaim{
						{
							Name:  to.Ptr("claimname1"),
							Value: to.Ptr("claimvalue1"),
						},
						{
							Name:  to.Ptr("claimname2"),
							Value: to.Ptr("claimvalue2"),
						}},
					Issuers: []*string{
						to.Ptr("issuer1"),
						to.Ptr("issuer2")},
					Keys: []armvideoanalyzer.TokenKeyClassification{
						&armvideoanalyzer.RsaTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.RsaTokenKey"),
							Kid:  to.Ptr("123"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyRsaAlgoRS256),
							E:    to.Ptr("ZLFzZTY0IQ=="),
							N:    to.Ptr("YmFzZTY0IQ=="),
						},
						&armvideoanalyzer.EccTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.EccTokenKey"),
							Kid:  to.Ptr("124"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyEccAlgoES256),
							X:    to.Ptr("XX=="),
							Y:    to.Ptr("YY=="),
						}},
				},
				Role: to.Ptr(armvideoanalyzer.AccessPolicyRoleReader),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.AccessPolicyEntity) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.AccessPolicyEntity)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-get.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestAccessPolicies_CreateOrUpdate(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-create.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Register access policy entity."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewAccessPoliciesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.CreateOrUpdate(ctx,
		"testrg",
		"testaccount2",
		"accessPolicyName1",
		armvideoanalyzer.AccessPolicyEntity{
			Properties: &armvideoanalyzer.AccessPolicyProperties{
				Authentication: &armvideoanalyzer.JwtAuthentication{
					Type: to.Ptr("#Microsoft.VideoAnalyzer.JwtAuthentication"),
					Audiences: []*string{
						to.Ptr("audience1")},
					Claims: []*armvideoanalyzer.TokenClaim{
						{
							Name:  to.Ptr("claimname1"),
							Value: to.Ptr("claimvalue1"),
						},
						{
							Name:  to.Ptr("claimname2"),
							Value: to.Ptr("claimvalue2"),
						}},
					Issuers: []*string{
						to.Ptr("issuer1"),
						to.Ptr("issuer2")},
					Keys: []armvideoanalyzer.TokenKeyClassification{
						&armvideoanalyzer.RsaTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.RsaTokenKey"),
							Kid:  to.Ptr("123"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyRsaAlgoRS256),
							E:    to.Ptr("ZLFzZTY0IQ=="),
							N:    to.Ptr("YmFzZTY0IQ=="),
						},
						&armvideoanalyzer.EccTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.EccTokenKey"),
							Kid:  to.Ptr("124"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyEccAlgoES256),
							X:    to.Ptr("XX=="),
							Y:    to.Ptr("YY=="),
						}},
				},
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-create.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.AccessPolicyEntity{
			Name: to.Ptr("accessPolicyName1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/accesspolicies"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/accesspolicies/accessPolicyName1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.AccessPolicyProperties{
				Authentication: &armvideoanalyzer.JwtAuthentication{
					Type: to.Ptr("#Microsoft.VideoAnalyzer.JwtAuthentication"),
					Audiences: []*string{
						to.Ptr("audience1")},
					Claims: []*armvideoanalyzer.TokenClaim{
						{
							Name:  to.Ptr("claimname1"),
							Value: to.Ptr("claimvalue1"),
						},
						{
							Name:  to.Ptr("claimname2"),
							Value: to.Ptr("claimvalue2"),
						}},
					Issuers: []*string{
						to.Ptr("issuer1"),
						to.Ptr("issuer2")},
					Keys: []armvideoanalyzer.TokenKeyClassification{
						&armvideoanalyzer.RsaTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.RsaTokenKey"),
							Kid:  to.Ptr("123"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyRsaAlgoRS256),
							E:    to.Ptr("ZLFzZTY0IQ=="),
							N:    to.Ptr("YmFzZTY0IQ=="),
						},
						&armvideoanalyzer.EccTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.EccTokenKey"),
							Kid:  to.Ptr("124"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyEccAlgoES256),
							X:    to.Ptr("XX=="),
							Y:    to.Ptr("YY=="),
						}},
				},
				Role: to.Ptr(armvideoanalyzer.AccessPolicyRoleReader),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.AccessPolicyEntity) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.AccessPolicyEntity)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-create.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestAccessPolicies_Delete(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-delete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Deletes an access policy entity."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewAccessPoliciesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	_, err := client.Delete(ctx,
		"testrg",
		"testaccount2",
		"accessPolicyName1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-delete.json: %v", err)
	}
}

func TestAccessPolicies_Update(t *testing.T) {
	// From example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-patch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Update access policy entity."},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armvideoanalyzer.NewAccessPoliciesClient("591e76c3-3e97-44db-879c-3e2b12961b62", cred, &options)
	res, err := client.Update(ctx,
		"testrg",
		"testaccount2",
		"accessPolicyName1",
		armvideoanalyzer.AccessPolicyEntity{
			Properties: &armvideoanalyzer.AccessPolicyProperties{
				Authentication: &armvideoanalyzer.JwtAuthentication{
					Type: to.Ptr("#Microsoft.VideoAnalyzer.JwtAuthentication"),
					Audiences: []*string{
						to.Ptr("audience1")},
					Claims: []*armvideoanalyzer.TokenClaim{
						{
							Name:  to.Ptr("claimname1"),
							Value: to.Ptr("claimvalue1"),
						},
						{
							Name:  to.Ptr("claimname2"),
							Value: to.Ptr("claimvalue2"),
						}},
					Issuers: []*string{
						to.Ptr("issuer1"),
						to.Ptr("issuer2")},
					Keys: []armvideoanalyzer.TokenKeyClassification{
						&armvideoanalyzer.RsaTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.RsaTokenKey"),
							Kid:  to.Ptr("123"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyRsaAlgoRS256),
							E:    to.Ptr("ZLFzZTY0IQ=="),
							N:    to.Ptr("YmFzZTY0IQ=="),
						},
						&armvideoanalyzer.EccTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.EccTokenKey"),
							Kid:  to.Ptr("124"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyEccAlgoES256),
							X:    to.Ptr("XX=="),
							Y:    to.Ptr("YY=="),
						}},
				},
			},
		},
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-patch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armvideoanalyzer.AccessPolicyEntity{
			Name: to.Ptr("accessPolicyName1"),
			Type: to.Ptr("Microsoft.Media/videoAnalyzers/accesspolicies"),
			ID:   to.Ptr("/subscriptions/591e76c3-3e97-44db-879c-3e2b12961b62/resourceGroups/testrg/providers/Microsoft.Media/videoAnalyzers/testaccount2/accesspolicies/accessPolicyName1"),
			SystemData: &armvideoanalyzer.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				CreatedBy:          to.Ptr("user@microsoft.com"),
				CreatedByType:      to.Ptr(armvideoanalyzer.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "0001-01-01T00:00:00Z"); return t }()),
				LastModifiedBy:     to.Ptr("user@microsoft.com"),
				LastModifiedByType: to.Ptr(armvideoanalyzer.CreatedByTypeUser),
			},
			Properties: &armvideoanalyzer.AccessPolicyProperties{
				Authentication: &armvideoanalyzer.JwtAuthentication{
					Type: to.Ptr("#Microsoft.VideoAnalyzer.JwtAuthentication"),
					Audiences: []*string{
						to.Ptr("audience1")},
					Claims: []*armvideoanalyzer.TokenClaim{
						{
							Name:  to.Ptr("claimname1"),
							Value: to.Ptr("claimvalue1"),
						},
						{
							Name:  to.Ptr("claimname2"),
							Value: to.Ptr("claimvalue2"),
						}},
					Issuers: []*string{
						to.Ptr("issuer1"),
						to.Ptr("issuer2")},
					Keys: []armvideoanalyzer.TokenKeyClassification{
						&armvideoanalyzer.RsaTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.RsaTokenKey"),
							Kid:  to.Ptr("123"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyRsaAlgoRS256),
							E:    to.Ptr("ZLFzZTY0IQ=="),
							N:    to.Ptr("YmFzZTY0IQ=="),
						},
						&armvideoanalyzer.EccTokenKey{
							Type: to.Ptr("#Microsoft.VideoAnalyzer.EccTokenKey"),
							Kid:  to.Ptr("124"),
							Alg:  to.Ptr(armvideoanalyzer.AccessPolicyEccAlgoES256),
							X:    to.Ptr("XX=="),
							Y:    to.Ptr("YY=="),
						}},
				},
				Role: to.Ptr(armvideoanalyzer.AccessPolicyRoleReader),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.AccessPolicyEntity) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.AccessPolicyEntity)
			t.Fatalf("Mock response is not equal to example response for example specification/videoanalyzer/resource-manager/Microsoft.Media/preview/2021-11-01-preview/examples/access-policy-patch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

// TestMain will exec each test
func TestMain(m *testing.M) {
	setUp()
	retCode := m.Run() // exec test and this returns an exit code to pass to os
	tearDown()
	os.Exit(retCode)
}

func getEnv(key, fallback string) string {
	if value, ok := os.LookupEnv(key); ok {
		return value
	}
	return fallback
}

func setUp() {
	ctx = context.Background()
	mockHost = getEnv("AZURE_VIRTUAL_SERVER_HOST", "https://localhost:8443")

	tr := &http.Transport{}
	if err := http2.ConfigureTransport(tr); err != nil {
		fmt.Printf("Failed to configure http2 transport: %v", err)
	}
	tr.TLSClientConfig.InsecureSkipVerify = true
	client := &http.Client{Transport: tr}

	cred = &MockCredential{}

	options = arm.ClientOptions{
		ClientOptions: policy.ClientOptions{
			Logging: policy.LogOptions{
				IncludeBody: true,
			},
			Transport: client,
		},
		Endpoint: arm.Endpoint(mockHost),
	}
}

func tearDown() {

}

type MockCredential struct {
}

func (c *MockCredential) GetToken(ctx context.Context, opts policy.TokenRequestOptions) (*azcore.AccessToken, error) {
	return &azcore.AccessToken{Token: "MockToken", ExpiresOn: time.Now().Add(time.Hour * 24).UTC()}, nil
}
