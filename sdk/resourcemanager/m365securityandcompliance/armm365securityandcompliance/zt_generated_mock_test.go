//go:build go1.16
// +build go1.16

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) AutoRest Code Generator.
// Changes may cause incorrect behavior and will be lost if the code is regenerated.

package armm365securityandcompliance_test

import (
	"context"
	"fmt"
	"net/http"
	"os"
	"runtime/debug"
	"testing"

	"encoding/json"
	"reflect"
	"time"

	"github.com/Azure/azure-sdk-for-go/sdk/azcore"
	"github.com/Azure/azure-sdk-for-go/sdk/azcore/arm"
	"github.com/Azure/azure-sdk-for-go/sdk/azcore/policy"
	"github.com/Azure/azure-sdk-for-go/sdk/azcore/runtime"
	"github.com/Azure/azure-sdk-for-go/sdk/azcore/to"
	"github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/m365securityandcompliance/armm365securityandcompliance"
	"golang.org/x/net/http2"
)

var (
	ctx      context.Context
	options  arm.ClientOptions
	cred     azcore.TokenCredential
	err      error
	mockHost string
)

func TestOperations_List(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterOperationsList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List ComplianceCenter operations"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewOperationsClient(cred, &options)
	pager := client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterOperationsList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.OperationListResult{
			Value: []*armm365securityandcompliance.Operation{
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateEndpointConnections/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateEndpointConnections/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateEndpointConnections/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateLinkResources/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.OperationListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.OperationListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterOperationsList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadOperationsList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List EDMUpload operations"},
	})
	client = armm365securityandcompliance.NewOperationsClient(cred, &options)
	pager = client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadOperationsList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.OperationListResult{
			Value: []*armm365securityandcompliance.Operation{
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateEndpointConnections/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateEndpointConnections/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateEndpointConnections/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateLinkResources/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.OperationListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.OperationListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadOperationsList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncOperationsList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List MIPPolicySync operations"},
	})
	client = armm365securityandcompliance.NewOperationsClient(cred, &options)
	pager = client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncOperationsList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.OperationListResult{
			Value: []*armm365securityandcompliance.Operation{
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/privateEndpointConnections/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/privateEndpointConnections/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/privateEndpointConnections/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/privateLinkResources/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.OperationListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.OperationListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncOperationsList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIOperationsList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List ManagementAPI operations"},
	})
	client = armm365securityandcompliance.NewOperationsClient(cred, &options)
	pager = client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIOperationsList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.OperationListResult{
			Value: []*armm365securityandcompliance.Operation{
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateEndpointConnections/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateEndpointConnections/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateEndpointConnections/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateLinkResources/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.OperationListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.OperationListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIOperationsList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellOperationsList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List SCCPowershell operations"},
	})
	client = armm365securityandcompliance.NewOperationsClient(cred, &options)
	pager = client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellOperationsList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.OperationListResult{
			Value: []*armm365securityandcompliance.Operation{
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateEndpointConnections/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateEndpointConnections/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateEndpointConnections/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateLinkResources/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.OperationListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.OperationListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellOperationsList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterOperationsList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List SecurityCenter operations"},
	})
	client = armm365securityandcompliance.NewOperationsClient(cred, &options)
	pager = client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterOperationsList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.OperationListResult{
			Value: []*armm365securityandcompliance.Operation{
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateEndpointConnections/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateEndpointConnections/write"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateEndpointConnections/delete"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				},
				{
					Name:    to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateLinkResources/read"),
					Display: &armm365securityandcompliance.OperationDisplay{},
					Origin:  to.Ptr("user,system"),
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.OperationListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.OperationListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterOperationsList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/OperationsList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List operations"},
	})
	client = armm365securityandcompliance.NewOperationsClient(cred, &options)
	pager = client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/OperationsList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.OperationListResult{
			Value: []*armm365securityandcompliance.Operation{
				{
					Name: to.Ptr("Microsoft.M365SecurityAndCompliance/locations/operationresults/read"),
					Display: &armm365securityandcompliance.OperationDisplay{
						Description: to.Ptr("Get the status of an asynchronous operation"),
						Operation:   to.Ptr("read"),
						Provider:    to.Ptr("Microsoft.M365SecurityAndCompliance"),
						Resource:    to.Ptr("operationresults"),
					},
					Origin: to.Ptr("user,system"),
				},
				{
					Name: to.Ptr("Microsoft.M365SecurityAndCompliance/Operations/read"),
					Display: &armm365securityandcompliance.OperationDisplay{
						Description: to.Ptr("Get the list of operations supported by this Resource Provider."),
						Operation:   to.Ptr("read"),
						Provider:    to.Ptr("Microsoft.M365SecurityAndCompliance"),
						Resource:    to.Ptr("operations"),
					},
					Origin: to.Ptr("user,system"),
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.OperationListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.OperationListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/OperationsList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestOperationResults_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/OperationResultsGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get operation result"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewOperationResultsClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"westus",
		"exampleid",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/OperationResultsGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.OperationResultsDescription{
			Name:       to.Ptr("servicename"),
			ID:         to.Ptr("/subscriptions/subid/providers/Microsoft.M365SecurityAndCompliance/locations/westus/operationresults/exampleid"),
			Properties: map[string]interface{}{},
			StartTime:  to.Ptr("2020-01-11T06:03:30.2716301Z"),
			Status:     to.Ptr(armm365securityandcompliance.OperationResultStatusRequested),
		}
		if !reflect.DeepEqual(exampleRes, res.OperationResultsDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.OperationResultsDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/OperationResultsGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForEDMUpload_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get metadata"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForEDMUploadClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rg1",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForEDMUploadDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForEDMUploadDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForEDMUpload_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreate.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with all parameters"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForEDMUploadClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescription{
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type: to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForEDMUploadClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreate.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreate.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescription{
			Name: to.Ptr("service1"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload"),
			Etag: to.Ptr("etagvalue"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1"),
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type:        to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
				PrincipalID: to.Ptr("03fe6ae0-952c-4e4b-954b-cc0364dd252e"),
				TenantID:    to.Ptr("72f988bf-86f1-41af-91ab-2d8cd011db47"),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US 2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForEDMUploadDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForEDMUploadDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreate.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreateMinimum.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with minimum parameters"},
	})
	client = armm365securityandcompliance.NewPrivateLinkServicesForEDMUploadClient("subid", cred, &options)
	poller, err = client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service2",
		armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescription{
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForEDMUploadClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreateMinimum.json: %v", err)
	}
	res, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreateMinimum.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescription{
			Name:     to.Ptr("service2"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service2"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(false),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers:          []*string{},
					Methods:          []*string{},
					Origins:          []*string{},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForEDMUploadDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForEDMUploadDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreateMinimum.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForEDMUpload_Update(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServicePatch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Patch service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForEDMUploadClient("subid", cred, &options)
	poller, err := client.BeginUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.ServicesPatchDescription{
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForEDMUploadClientBeginUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServicePatch.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServicePatch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForEDMUploadDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForEDMUploadDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServicePatch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForEDMUpload_List(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in subscription"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForEDMUploadClient("subid", cred, &options)
	pager := client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload"),
					Etag:     to.Ptr("etag"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("West US"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForEDMUploadDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForEDMUploadDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForEDMUpload_ListByResourceGroup(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceListByResourceGroup.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in resource group"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForEDMUploadClient("subid", cred, &options)
	pager := client.ListByResourceGroup("rgname",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceListByResourceGroup.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForEDMUploadDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload"),
					Etag:     to.Ptr("etagvalue"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/dddb8dcb-effb-4290-bb47-ce1e8440c729"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("westus"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForEDMUploadDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForEDMUploadDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceListByResourceGroup.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestServices_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceDelete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewServicesClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rg1",
		"service1",
		&armm365securityandcompliance.ServicesClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceDelete.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceDelete.json: %v", err)
	}
}

func TestPrivateEndpointConnectionsForEDM_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceListPrivateEndpointConnections.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_List"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForEDMClient("subid", cred, &options)
	pager := client.ListByService("rgname",
		"service1",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceListPrivateEndpointConnections.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateEndpointConnectionListResult{
			Value: []*armm365securityandcompliance.PrivateEndpointConnection{
				{
					Name: to.Ptr("myConnection"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateEndpointConnections"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1/privateEndpointConnections/myConnection"),
					Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
						PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
							ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
						},
						PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
							Description:     to.Ptr("Auto-Approved"),
							ActionsRequired: to.Ptr("None"),
							Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
						},
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateEndpointConnectionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateEndpointConnectionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceListPrivateEndpointConnections.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForEDM_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceGetPrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_GetConnection"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForEDMClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"myConnection",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceGetPrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceGetPrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForEDM_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreatePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_CreateOrUpdate"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForEDMClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rgname",
		"service1",
		"myConnection",
		armm365securityandcompliance.PrivateEndpointConnection{
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Auto-Approved"),
					Status:      to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
		},
		&armm365securityandcompliance.PrivateEndpointConnectionsForEDMClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/c80fb759-c965-4c6a-9110-9b2b2d038882/resourceGroups/myResourceGroup/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
				ProvisioningState: to.Ptr(armm365securityandcompliance.PrivateEndpointConnectionProvisioningStateSucceeded),
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceCreatePrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForEDM_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceDeletePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnections_Delete"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForEDMClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rgname",
		"service1",
		"myConnection",
		&armm365securityandcompliance.PrivateEndpointConnectionsForEDMClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceDeletePrivateEndpointConnection.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadServiceDeletePrivateEndpointConnection.json: %v", err)
	}
}

func TestPrivateLinkResources_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadPrivateLinkResourcesListByService.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_ListGroupIds"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesClient("subid", cred, &options)
	res, err := client.ListByService(ctx,
		"rgname",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadPrivateLinkResourcesListByService.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResourceListResult{
			Value: []*armm365securityandcompliance.PrivateLinkResource{
				{
					Name: to.Ptr("fhir"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1/privateLinkResources/fhir"),
					Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
						GroupID: to.Ptr("fhir"),
						RequiredMembers: []*string{
							to.Ptr("fhir")},
						RequiredZoneNames: []*string{
							to.Ptr("privatelink.compliance.microsoft.com")},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResourceListResult) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResourceListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadPrivateLinkResourcesListByService.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkResources_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadPrivateLinkResourceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_Get"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"fhir",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadPrivateLinkResourceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResource{
			Name: to.Ptr("fhir"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/privateLinkResources"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForEDMUpload/service1/privateLinkResources/fhir"),
			Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
				GroupID: to.Ptr("fhir"),
				RequiredMembers: []*string{
					to.Ptr("fhir")},
				RequiredZoneNames: []*string{
					to.Ptr("privatelink.security.microsoft.com")},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResource) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResource)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/EdmUploadPrivateLinkResourceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365ComplianceCenter_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get metadata"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365ComplianceCenterClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rg1",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForM365ComplianceCenterDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForM365ComplianceCenterDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365ComplianceCenter_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreate.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with all parameters"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365ComplianceCenterClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescription{
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type: to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreate.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreate.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescription{
			Name: to.Ptr("service1"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter"),
			Etag: to.Ptr("etagvalue"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1"),
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type:        to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
				PrincipalID: to.Ptr("03fe6ae0-952c-4e4b-954b-cc0364dd252e"),
				TenantID:    to.Ptr("72f988bf-86f1-41af-91ab-2d8cd011db47"),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US 2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForM365ComplianceCenterDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForM365ComplianceCenterDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreate.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreateMinimum.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with minimum parameters"},
	})
	client = armm365securityandcompliance.NewPrivateLinkServicesForM365ComplianceCenterClient("subid", cred, &options)
	poller, err = client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service2",
		armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescription{
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreateMinimum.json: %v", err)
	}
	res, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreateMinimum.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescription{
			Name:     to.Ptr("service2"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service2"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(false),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers:          []*string{},
					Methods:          []*string{},
					Origins:          []*string{},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForM365ComplianceCenterDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForM365ComplianceCenterDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreateMinimum.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365ComplianceCenter_Update(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServicePatch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Patch service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365ComplianceCenterClient("subid", cred, &options)
	poller, err := client.BeginUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.ServicesPatchDescription{
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterClientBeginUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServicePatch.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServicePatch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForM365ComplianceCenterDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForM365ComplianceCenterDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServicePatch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365ComplianceCenter_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceDelete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365ComplianceCenterClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rg1",
		"service1",
		&armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceDelete.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceDelete.json: %v", err)
	}
}

func TestPrivateLinkServicesForM365ComplianceCenter_List(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in subscription"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365ComplianceCenterClient("subid", cred, &options)
	pager := client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter"),
					Etag:     to.Ptr("etag"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("West US"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForM365ComplianceCenterDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForM365ComplianceCenterDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365ComplianceCenter_ListByResourceGroup(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceListByResourceGroup.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in resource group"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365ComplianceCenterClient("subid", cred, &options)
	pager := client.ListByResourceGroup("rgname",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceListByResourceGroup.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForM365ComplianceCenterDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter"),
					Etag:     to.Ptr("etagvalue"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/dddb8dcb-effb-4290-bb47-ce1e8440c729"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("westus"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForM365ComplianceCenterDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForM365ComplianceCenterDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceListByResourceGroup.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsComp_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceListPrivateEndpointConnections.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_List"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsCompClient("subid", cred, &options)
	pager := client.ListByService("rgname",
		"service1",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceListPrivateEndpointConnections.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateEndpointConnectionListResult{
			Value: []*armm365securityandcompliance.PrivateEndpointConnection{
				{
					Name: to.Ptr("myConnection"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateEndpointConnections"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1/privateEndpointConnections/myConnection"),
					Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
						PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
							ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
						},
						PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
							Description:     to.Ptr("Auto-Approved"),
							ActionsRequired: to.Ptr("None"),
							Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
						},
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateEndpointConnectionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateEndpointConnectionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceListPrivateEndpointConnections.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsComp_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceGetPrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_GetConnection"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsCompClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"myConnection",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceGetPrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceGetPrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsComp_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreatePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_CreateOrUpdate"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsCompClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rgname",
		"service1",
		"myConnection",
		armm365securityandcompliance.PrivateEndpointConnection{
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Auto-Approved"),
					Status:      to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
		},
		&armm365securityandcompliance.PrivateEndpointConnectionsCompClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/c80fb759-c965-4c6a-9110-9b2b2d038882/resourceGroups/myResourceGroup/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
				ProvisioningState: to.Ptr(armm365securityandcompliance.PrivateEndpointConnectionProvisioningStateSucceeded),
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceCreatePrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsComp_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceDeletePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnections_Delete"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsCompClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rgname",
		"service1",
		"myConnection",
		&armm365securityandcompliance.PrivateEndpointConnectionsCompClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceDeletePrivateEndpointConnection.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterServiceDeletePrivateEndpointConnection.json: %v", err)
	}
}

func TestPrivateLinkResourcesComp_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterPrivateLinkResourcesListByService.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_ListGroupIds"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesCompClient("subid", cred, &options)
	res, err := client.ListByService(ctx,
		"rgname",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterPrivateLinkResourcesListByService.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResourceListResult{
			Value: []*armm365securityandcompliance.PrivateLinkResource{
				{
					Name: to.Ptr("fhir"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1/privateLinkResources/fhir"),
					Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
						GroupID: to.Ptr("fhir"),
						RequiredMembers: []*string{
							to.Ptr("fhir")},
						RequiredZoneNames: []*string{
							to.Ptr("privatelink.compliance.microsoft.com")},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResourceListResult) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResourceListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterPrivateLinkResourcesListByService.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkResourcesComp_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterPrivateLinkResourceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_Get"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesCompClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"fhir",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterPrivateLinkResourceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResource{
			Name: to.Ptr("fhir"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/privateLinkResources"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365ComplianceCenter/service1/privateLinkResources/fhir"),
			Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
				GroupID: to.Ptr("fhir"),
				RequiredMembers: []*string{
					to.Ptr("fhir")},
				RequiredZoneNames: []*string{
					to.Ptr("privatelink.security.microsoft.com")},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResource) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResource)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ComplianceCenterPrivateLinkResourceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365SecurityCenter_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get metadata"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365SecurityCenterClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rg1",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForM365SecurityCenterDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForM365SecurityCenterDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365SecurityCenter_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreate.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with all parameters"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365SecurityCenterClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescription{
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type: to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreate.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreate.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescription{
			Name: to.Ptr("service1"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter"),
			Etag: to.Ptr("etagvalue"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1"),
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type:        to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
				PrincipalID: to.Ptr("03fe6ae0-952c-4e4b-954b-cc0364dd252e"),
				TenantID:    to.Ptr("72f988bf-86f1-41af-91ab-2d8cd011db47"),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US 2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForM365SecurityCenterDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForM365SecurityCenterDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreate.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreateMinimum.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with minimum parameters"},
	})
	client = armm365securityandcompliance.NewPrivateLinkServicesForM365SecurityCenterClient("subid", cred, &options)
	poller, err = client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service2",
		armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescription{
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreateMinimum.json: %v", err)
	}
	res, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreateMinimum.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescription{
			Name:     to.Ptr("service2"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service2"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(false),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers:          []*string{},
					Methods:          []*string{},
					Origins:          []*string{},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForM365SecurityCenterDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForM365SecurityCenterDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreateMinimum.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365SecurityCenter_Update(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServicePatch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Patch service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365SecurityCenterClient("subid", cred, &options)
	poller, err := client.BeginUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.ServicesPatchDescription{
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterClientBeginUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServicePatch.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServicePatch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForM365SecurityCenterDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForM365SecurityCenterDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServicePatch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365SecurityCenter_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceDelete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365SecurityCenterClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rg1",
		"service1",
		&armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceDelete.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceDelete.json: %v", err)
	}
}

func TestPrivateLinkServicesForM365SecurityCenter_List(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in subscription"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365SecurityCenterClient("subid", cred, &options)
	pager := client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter"),
					Etag:     to.Ptr("etag"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("West US"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForM365SecurityCenterDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForM365SecurityCenterDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForM365SecurityCenter_ListByResourceGroup(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceListByResourceGroup.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in resource group"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForM365SecurityCenterClient("subid", cred, &options)
	pager := client.ListByResourceGroup("rgname",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceListByResourceGroup.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForM365SecurityCenterDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter"),
					Etag:     to.Ptr("etagvalue"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/dddb8dcb-effb-4290-bb47-ce1e8440c729"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("westus"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForM365SecurityCenterDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForM365SecurityCenterDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceListByResourceGroup.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsSec_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceListPrivateEndpointConnections.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_List"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsSecClient("subid", cred, &options)
	pager := client.ListByService("rgname",
		"service1",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceListPrivateEndpointConnections.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateEndpointConnectionListResult{
			Value: []*armm365securityandcompliance.PrivateEndpointConnection{
				{
					Name: to.Ptr("myConnection"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateEndpointConnections"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1/privateEndpointConnections/myConnection"),
					Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
						PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
							ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
						},
						PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
							Description:     to.Ptr("Auto-Approved"),
							ActionsRequired: to.Ptr("None"),
							Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
						},
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateEndpointConnectionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateEndpointConnectionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceListPrivateEndpointConnections.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsSec_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceGetPrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_GetConnection"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsSecClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"myConnection",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceGetPrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceGetPrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsSec_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreatePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_CreateOrUpdate"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsSecClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rgname",
		"service1",
		"myConnection",
		armm365securityandcompliance.PrivateEndpointConnection{
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Auto-Approved"),
					Status:      to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
		},
		&armm365securityandcompliance.PrivateEndpointConnectionsSecClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/c80fb759-c965-4c6a-9110-9b2b2d038882/resourceGroups/myResourceGroup/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
				ProvisioningState: to.Ptr(armm365securityandcompliance.PrivateEndpointConnectionProvisioningStateSucceeded),
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceCreatePrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsSec_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceDeletePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnections_Delete"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsSecClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rgname",
		"service1",
		"myConnection",
		&armm365securityandcompliance.PrivateEndpointConnectionsSecClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceDeletePrivateEndpointConnection.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterServiceDeletePrivateEndpointConnection.json: %v", err)
	}
}

func TestPrivateLinkResourcesSec_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterPrivateLinkResourcesListByService.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_ListGroupIds"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesSecClient("subid", cred, &options)
	res, err := client.ListByService(ctx,
		"rgname",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterPrivateLinkResourcesListByService.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResourceListResult{
			Value: []*armm365securityandcompliance.PrivateLinkResource{
				{
					Name: to.Ptr("fhir"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1/privateLinkResources/fhir"),
					Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
						GroupID: to.Ptr("fhir"),
						RequiredMembers: []*string{
							to.Ptr("fhir")},
						RequiredZoneNames: []*string{
							to.Ptr("privatelink.compliance.microsoft.com")},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResourceListResult) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResourceListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterPrivateLinkResourcesListByService.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkResourcesSec_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterPrivateLinkResourceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_Get"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesSecClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"fhir",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterPrivateLinkResourceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResource{
			Name: to.Ptr("fhir"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/privateLinkResources"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForM365SecurityCenter/service1/privateLinkResources/fhir"),
			Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
				GroupID: to.Ptr("fhir"),
				RequiredMembers: []*string{
					to.Ptr("fhir")},
				RequiredZoneNames: []*string{
					to.Ptr("privatelink.security.microsoft.com")},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResource) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResource)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SecurityCenterPrivateLinkResourceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForO365ManagementActivityAPI_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get metadata"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForO365ManagementActivityAPIClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rg1",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForO365ManagementActivityAPIDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForO365ManagementActivityAPIDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForO365ManagementActivityAPI_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreate.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with all parameters"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForO365ManagementActivityAPIClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescription{
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type: to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreate.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreate.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescription{
			Name: to.Ptr("service1"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI"),
			Etag: to.Ptr("etagvalue"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1"),
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type:        to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
				PrincipalID: to.Ptr("03fe6ae0-952c-4e4b-954b-cc0364dd252e"),
				TenantID:    to.Ptr("72f988bf-86f1-41af-91ab-2d8cd011db47"),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US 2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForO365ManagementActivityAPIDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForO365ManagementActivityAPIDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreate.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreateMinimum.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with minimum parameters"},
	})
	client = armm365securityandcompliance.NewPrivateLinkServicesForO365ManagementActivityAPIClient("subid", cred, &options)
	poller, err = client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service2",
		armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescription{
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreateMinimum.json: %v", err)
	}
	res, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreateMinimum.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescription{
			Name:     to.Ptr("service2"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service2"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(false),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers:          []*string{},
					Methods:          []*string{},
					Origins:          []*string{},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForO365ManagementActivityAPIDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForO365ManagementActivityAPIDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreateMinimum.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForO365ManagementActivityAPI_Update(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServicePatch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Patch service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForO365ManagementActivityAPIClient("subid", cred, &options)
	poller, err := client.BeginUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.ServicesPatchDescription{
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIClientBeginUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServicePatch.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServicePatch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForO365ManagementActivityAPIDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForO365ManagementActivityAPIDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServicePatch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForO365ManagementActivityAPI_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceDelete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForO365ManagementActivityAPIClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rg1",
		"service1",
		&armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceDelete.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceDelete.json: %v", err)
	}
}

func TestPrivateLinkServicesForO365ManagementActivityAPI_List(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in subscription"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForO365ManagementActivityAPIClient("subid", cred, &options)
	pager := client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI"),
					Etag:     to.Ptr("etag"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("West US"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForO365ManagementActivityAPIDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForO365ManagementActivityAPIDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForO365ManagementActivityAPI_ListByResourceGroup(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceListByResourceGroup.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in resource group"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForO365ManagementActivityAPIClient("subid", cred, &options)
	pager := client.ListByResourceGroup("rgname",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceListByResourceGroup.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForO365ManagementActivityAPIDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI"),
					Etag:     to.Ptr("etagvalue"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/dddb8dcb-effb-4290-bb47-ce1e8440c729"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("westus"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForO365ManagementActivityAPIDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForO365ManagementActivityAPIDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceListByResourceGroup.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsAdtAPI_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceListPrivateEndpointConnections.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_List"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsAdtAPIClient("subid", cred, &options)
	pager := client.ListByService("rgname",
		"service1",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceListPrivateEndpointConnections.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateEndpointConnectionListResult{
			Value: []*armm365securityandcompliance.PrivateEndpointConnection{
				{
					Name: to.Ptr("myConnection"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateEndpointConnections"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1/privateEndpointConnections/myConnection"),
					Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
						PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
							ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
						},
						PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
							Description:     to.Ptr("Auto-Approved"),
							ActionsRequired: to.Ptr("None"),
							Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
						},
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateEndpointConnectionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateEndpointConnectionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceListPrivateEndpointConnections.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsAdtAPI_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceGetPrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_GetConnection"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsAdtAPIClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"myConnection",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceGetPrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceGetPrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsAdtAPI_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreatePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_CreateOrUpdate"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsAdtAPIClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rgname",
		"service1",
		"myConnection",
		armm365securityandcompliance.PrivateEndpointConnection{
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Auto-Approved"),
					Status:      to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
		},
		&armm365securityandcompliance.PrivateEndpointConnectionsAdtAPIClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/c80fb759-c965-4c6a-9110-9b2b2d038882/resourceGroups/myResourceGroup/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
				ProvisioningState: to.Ptr(armm365securityandcompliance.PrivateEndpointConnectionProvisioningStateSucceeded),
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceCreatePrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsAdtAPI_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceDeletePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnections_Delete"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsAdtAPIClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rgname",
		"service1",
		"myConnection",
		&armm365securityandcompliance.PrivateEndpointConnectionsAdtAPIClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceDeletePrivateEndpointConnection.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIServiceDeletePrivateEndpointConnection.json: %v", err)
	}
}

func TestPrivateLinkResourcesAdtAPI_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIPrivateLinkResourcesListByService.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_ListGroupIds"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesAdtAPIClient("subid", cred, &options)
	res, err := client.ListByService(ctx,
		"rgname",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIPrivateLinkResourcesListByService.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResourceListResult{
			Value: []*armm365securityandcompliance.PrivateLinkResource{
				{
					Name: to.Ptr("fhir"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1/privateLinkResources/fhir"),
					Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
						GroupID: to.Ptr("fhir"),
						RequiredMembers: []*string{
							to.Ptr("fhir")},
						RequiredZoneNames: []*string{
							to.Ptr("privatelink.compliance.microsoft.com")},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResourceListResult) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResourceListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIPrivateLinkResourcesListByService.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkResourcesAdtAPI_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIPrivateLinkResourceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_Get"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesAdtAPIClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"fhir",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIPrivateLinkResourceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResource{
			Name: to.Ptr("fhir"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/privateLinkResources"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForO365ManagementActivityAPI/service1/privateLinkResources/fhir"),
			Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
				GroupID: to.Ptr("fhir"),
				RequiredMembers: []*string{
					to.Ptr("fhir")},
				RequiredZoneNames: []*string{
					to.Ptr("privatelink.security.microsoft.com")},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResource) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResource)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/ManagementAPIPrivateLinkResourceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForSCCPowershell_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get metadata"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForSCCPowershellClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rg1",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForSCCPowershellDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForSCCPowershellDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForSCCPowershell_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreate.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with all parameters"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForSCCPowershellClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescription{
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type: to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForSCCPowershellClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreate.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreate.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescription{
			Name: to.Ptr("service1"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell"),
			Etag: to.Ptr("etagvalue"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1"),
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type:        to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
				PrincipalID: to.Ptr("03fe6ae0-952c-4e4b-954b-cc0364dd252e"),
				TenantID:    to.Ptr("72f988bf-86f1-41af-91ab-2d8cd011db47"),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US 2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForSCCPowershellDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForSCCPowershellDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreate.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreateMinimum.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with minimum parameters"},
	})
	client = armm365securityandcompliance.NewPrivateLinkServicesForSCCPowershellClient("subid", cred, &options)
	poller, err = client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service2",
		armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescription{
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForSCCPowershellClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreateMinimum.json: %v", err)
	}
	res, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreateMinimum.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescription{
			Name:     to.Ptr("service2"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service2"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(false),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers:          []*string{},
					Methods:          []*string{},
					Origins:          []*string{},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForSCCPowershellDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForSCCPowershellDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreateMinimum.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForSCCPowershell_Update(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServicePatch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Patch service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForSCCPowershellClient("subid", cred, &options)
	poller, err := client.BeginUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.ServicesPatchDescription{
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForSCCPowershellClientBeginUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServicePatch.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServicePatch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForSCCPowershellDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForSCCPowershellDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServicePatch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForSCCPowershell_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceDelete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForSCCPowershellClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rg1",
		"service1",
		&armm365securityandcompliance.PrivateLinkServicesForSCCPowershellClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceDelete.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceDelete.json: %v", err)
	}
}

func TestPrivateLinkServicesForSCCPowershell_List(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in subscription"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForSCCPowershellClient("subid", cred, &options)
	pager := client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell"),
					Etag:     to.Ptr("etag"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("West US"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForSCCPowershellDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForSCCPowershellDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForSCCPowershell_ListByResourceGroup(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceListByResourceGroup.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in resource group"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForSCCPowershellClient("subid", cred, &options)
	pager := client.ListByResourceGroup("rgname",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceListByResourceGroup.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForSCCPowershellDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell"),
					Etag:     to.Ptr("etagvalue"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/dddb8dcb-effb-4290-bb47-ce1e8440c729"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("westus"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForSCCPowershellDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForSCCPowershellDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceListByResourceGroup.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForSCCPowershell_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceListPrivateEndpointConnections.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_List"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForSCCPowershellClient("subid", cred, &options)
	pager := client.ListByService("rgname",
		"service1",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceListPrivateEndpointConnections.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateEndpointConnectionListResult{
			Value: []*armm365securityandcompliance.PrivateEndpointConnection{
				{
					Name: to.Ptr("myConnection"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateEndpointConnections"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1/privateEndpointConnections/myConnection"),
					Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
						PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
							ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
						},
						PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
							Description:     to.Ptr("Auto-Approved"),
							ActionsRequired: to.Ptr("None"),
							Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
						},
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateEndpointConnectionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateEndpointConnectionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceListPrivateEndpointConnections.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForSCCPowershell_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceGetPrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_GetConnection"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForSCCPowershellClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"myConnection",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceGetPrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceGetPrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForSCCPowershell_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreatePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_CreateOrUpdate"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForSCCPowershellClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rgname",
		"service1",
		"myConnection",
		armm365securityandcompliance.PrivateEndpointConnection{
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Auto-Approved"),
					Status:      to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
		},
		&armm365securityandcompliance.PrivateEndpointConnectionsForSCCPowershellClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/c80fb759-c965-4c6a-9110-9b2b2d038882/resourceGroups/myResourceGroup/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
				ProvisioningState: to.Ptr(armm365securityandcompliance.PrivateEndpointConnectionProvisioningStateSucceeded),
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceCreatePrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForSCCPowershell_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceDeletePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnections_Delete"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForSCCPowershellClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rgname",
		"service1",
		"myConnection",
		&armm365securityandcompliance.PrivateEndpointConnectionsForSCCPowershellClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceDeletePrivateEndpointConnection.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellServiceDeletePrivateEndpointConnection.json: %v", err)
	}
}

func TestPrivateLinkResourcesForSCCPowershell_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellPrivateLinkResourcesListByService.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_ListGroupIds"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesForSCCPowershellClient("subid", cred, &options)
	res, err := client.ListByService(ctx,
		"rgname",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellPrivateLinkResourcesListByService.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResourceListResult{
			Value: []*armm365securityandcompliance.PrivateLinkResource{
				{
					Name: to.Ptr("fhir"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1/privateLinkResources/fhir"),
					Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
						GroupID: to.Ptr("fhir"),
						RequiredMembers: []*string{
							to.Ptr("fhir")},
						RequiredZoneNames: []*string{
							to.Ptr("privatelink.compliance.microsoft.com")},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResourceListResult) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResourceListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellPrivateLinkResourcesListByService.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkResourcesForSCCPowershell_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellPrivateLinkResourceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_Get"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesForSCCPowershellClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"fhir",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellPrivateLinkResourceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResource{
			Name: to.Ptr("fhir"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateLinkResources"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/service1/privateLinkResources/fhir"),
			Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
				GroupID: to.Ptr("fhir"),
				RequiredMembers: []*string{
					to.Ptr("fhir")},
				RequiredZoneNames: []*string{
					to.Ptr("privatelink.security.microsoft.com")},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("sove"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("sove"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResource) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResource)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/SCCPowershellPrivateLinkResourceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForMIPPolicySync_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Get metadata"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForMIPPolicySyncClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rg1",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("fangsu"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("fangsu"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForMIPPolicySyncDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForMIPPolicySyncDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForMIPPolicySync_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreate.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with all parameters"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForMIPPolicySyncClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescription{
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type: to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreate.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreate.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescription{
			Name: to.Ptr("service1"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync"),
			Etag: to.Ptr("etagvalue"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1"),
			Identity: &armm365securityandcompliance.ServicesResourceIdentity{
				Type:        to.Ptr(armm365securityandcompliance.ManagedServiceIdentityTypeSystemAssigned),
				PrincipalID: to.Ptr("03fe6ae0-952c-4e4b-954b-cc0364dd252e"),
				TenantID:    to.Ptr("72f988bf-86f1-41af-91ab-2d8cd011db47"),
			},
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US 2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("fangsu"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("fangsu"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				ExportConfiguration: &armm365securityandcompliance.ServiceExportConfigurationInfo{
					StorageAccountName: to.Ptr("existingStorageAccount"),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForMIPPolicySyncDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForMIPPolicySyncDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreate.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}

	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreateMinimum.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Create or Update a service with minimum parameters"},
	})
	client = armm365securityandcompliance.NewPrivateLinkServicesForMIPPolicySyncClient("subid", cred, &options)
	poller, err = client.BeginCreateOrUpdate(ctx,
		"rg1",
		"service2",
		armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescription{
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			Tags:     map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreateMinimum.json: %v", err)
	}
	res, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreateMinimum.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescription{
			Name:     to.Ptr("service2"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service2"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("westus2"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("fangsu"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("fangsu"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(false),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers:          []*string{},
					Methods:          []*string{},
					Origins:          []*string{},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForMIPPolicySyncDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForMIPPolicySyncDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreateMinimum.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForMIPPolicySync_Update(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServicePatch.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Patch service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForMIPPolicySyncClient("subid", cred, &options)
	poller, err := client.BeginUpdate(ctx,
		"rg1",
		"service1",
		armm365securityandcompliance.ServicesPatchDescription{
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
		},
		&armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncClientBeginUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServicePatch.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServicePatch.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescription{
			Name:     to.Ptr("service1"),
			Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync"),
			Etag:     to.Ptr("etagvalue"),
			ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1"),
			Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
			Location: to.Ptr("West US"),
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("fangsu"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("fangsu"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
			Tags: map[string]*string{
				"tag1": to.Ptr("value1"),
				"tag2": to.Ptr("value2"),
			},
			Properties: &armm365securityandcompliance.ServicesProperties{
				AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
					{
						ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
					},
					{
						ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
					}},
				AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
					Audience:          to.Ptr("https://azurehealthcareapis.com"),
					Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
					SmartProxyEnabled: to.Ptr(true),
				},
				CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
					AllowCredentials: to.Ptr(false),
					Headers: []*string{
						to.Ptr("*")},
					MaxAge: to.Ptr[int64](1440),
					Methods: []*string{
						to.Ptr("DELETE"),
						to.Ptr("GET"),
						to.Ptr("OPTIONS"),
						to.Ptr("PATCH"),
						to.Ptr("POST"),
						to.Ptr("PUT")},
					Origins: []*string{
						to.Ptr("*")},
				},
				CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
					KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
					OfferThroughput: to.Ptr[int64](1000),
				},
				PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
				ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
				PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkServicesForMIPPolicySyncDescription) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkServicesForMIPPolicySyncDescription)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServicePatch.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForMIPPolicySync_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceDelete.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"Delete service"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForMIPPolicySyncClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rg1",
		"service1",
		&armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceDelete.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceDelete.json: %v", err)
	}
}

func TestPrivateLinkServicesForMIPPolicySync_List(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceList.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in subscription"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForMIPPolicySyncClient("subid", cred, &options)
	pager := client.List(nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceList.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync"),
					Etag:     to.Ptr("etag"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("West US"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForMIPPolicySyncDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForMIPPolicySyncDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceList.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkServicesForMIPPolicySync_ListByResourceGroup(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceListByResourceGroup.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"List all services in resource group"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkServicesForMIPPolicySyncClient("subid", cred, &options)
	pager := client.ListByResourceGroup("rgname",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceListByResourceGroup.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescriptionListResult{
			Value: []*armm365securityandcompliance.PrivateLinkServicesForMIPPolicySyncDescription{
				{
					Name:     to.Ptr("service1"),
					Type:     to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync"),
					Etag:     to.Ptr("etagvalue"),
					ID:       to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/dddb8dcb-effb-4290-bb47-ce1e8440c729"),
					Kind:     to.Ptr(armm365securityandcompliance.KindFhirR4),
					Location: to.Ptr("westus"),
					Tags:     map[string]*string{},
					Properties: &armm365securityandcompliance.ServicesProperties{
						AccessPolicies: []*armm365securityandcompliance.ServiceAccessPolicyEntry{
							{
								ObjectID: to.Ptr("c487e7d1-3210-41a3-8ccc-e9372b78da47"),
							},
							{
								ObjectID: to.Ptr("5b307da8-43d4-492b-8b66-b0294ade872f"),
							}},
						AuthenticationConfiguration: &armm365securityandcompliance.ServiceAuthenticationConfigurationInfo{
							Audience:          to.Ptr("https://azurehealthcareapis.com"),
							Authority:         to.Ptr("https://login.microsoftonline.com/abfde7b2-df0f-47e6-aabf-2462b07508dc"),
							SmartProxyEnabled: to.Ptr(true),
						},
						CorsConfiguration: &armm365securityandcompliance.ServiceCorsConfigurationInfo{
							AllowCredentials: to.Ptr(false),
							Headers: []*string{
								to.Ptr("*")},
							MaxAge: to.Ptr[int64](1440),
							Methods: []*string{
								to.Ptr("DELETE"),
								to.Ptr("GET"),
								to.Ptr("OPTIONS"),
								to.Ptr("PATCH"),
								to.Ptr("POST"),
								to.Ptr("PUT")},
							Origins: []*string{
								to.Ptr("*")},
						},
						CosmosDbConfiguration: &armm365securityandcompliance.ServiceCosmosDbConfigurationInfo{
							KeyVaultKeyURI:  to.Ptr("https://my-vault.vault.azure.net/keys/my-key"),
							OfferThroughput: to.Ptr[int64](1000),
						},
						PrivateEndpointConnections: []*armm365securityandcompliance.PrivateEndpointConnection{},
						ProvisioningState:          to.Ptr(armm365securityandcompliance.ProvisioningStateSucceeded),
						PublicNetworkAccess:        to.Ptr(armm365securityandcompliance.PublicNetworkAccessDisabled),
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateLinkServicesForMIPPolicySyncDescriptionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateLinkServicesForMIPPolicySyncDescriptionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceListByResourceGroup.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForMIPPolicySync_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceListPrivateEndpointConnections.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_List"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForMIPPolicySyncClient("subid", cred, &options)
	pager := client.ListByService("rgname",
		"service1",
		nil)
	for pager.More() {
		nextResult, err := pager.NextPage(ctx)
		if err != nil {
			t.Fatalf("Failed to advance page for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceListPrivateEndpointConnections.json: %v", err)
			break
		}
		// Response check
		pagerExampleRes := armm365securityandcompliance.PrivateEndpointConnectionListResult{
			Value: []*armm365securityandcompliance.PrivateEndpointConnection{
				{
					Name: to.Ptr("myConnection"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/privateEndpointConnections"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1/privateEndpointConnections/myConnection"),
					Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
						PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
							ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
						},
						PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
							Description:     to.Ptr("Auto-Approved"),
							ActionsRequired: to.Ptr("None"),
							Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
						},
					},
				}},
		}
		if !reflect.DeepEqual(pagerExampleRes, nextResult.PrivateEndpointConnectionListResult) {
			exampleResJson, _ := json.Marshal(pagerExampleRes)
			mockResJson, _ := json.Marshal(nextResult.PrivateEndpointConnectionListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceListPrivateEndpointConnections.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForMIPPolicySync_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceGetPrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_GetConnection"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForMIPPolicySyncClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"myConnection",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceGetPrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForSCCPowershell/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("fangsu"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("fangsu"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceGetPrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForMIPPolicySync_CreateOrUpdate(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreatePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnection_CreateOrUpdate"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForMIPPolicySyncClient("subid", cred, &options)
	poller, err := client.BeginCreateOrUpdate(ctx,
		"rgname",
		"service1",
		"myConnection",
		armm365securityandcompliance.PrivateEndpointConnection{
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description: to.Ptr("Auto-Approved"),
					Status:      to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
			},
		},
		&armm365securityandcompliance.PrivateEndpointConnectionsForMIPPolicySyncClientBeginCreateOrUpdateOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	res, err := poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreatePrivateEndpointConnection.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateEndpointConnection{
			Name: to.Ptr("myConnection"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/privateEndpointConnections"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1/privateEndpointConnections/myConnection"),
			Properties: &armm365securityandcompliance.PrivateEndpointConnectionProperties{
				PrivateEndpoint: &armm365securityandcompliance.PrivateEndpoint{
					ID: to.Ptr("/subscriptions/c80fb759-c965-4c6a-9110-9b2b2d038882/resourceGroups/myResourceGroup/providers/Microsoft.Network/privateEndpoints/peexample01"),
				},
				PrivateLinkServiceConnectionState: &armm365securityandcompliance.PrivateLinkServiceConnectionState{
					Description:     to.Ptr("Auto-Approved"),
					ActionsRequired: to.Ptr("None"),
					Status:          to.Ptr(armm365securityandcompliance.PrivateEndpointServiceConnectionStatusApproved),
				},
				ProvisioningState: to.Ptr(armm365securityandcompliance.PrivateEndpointConnectionProvisioningStateSucceeded),
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("fangsu"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("fangsu"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateEndpointConnection) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateEndpointConnection)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceCreatePrivateEndpointConnection.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateEndpointConnectionsForMIPPolicySync_Delete(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceDeletePrivateEndpointConnection.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateEndpointConnections_Delete"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateEndpointConnectionsForMIPPolicySyncClient("subid", cred, &options)
	poller, err := client.BeginDelete(ctx,
		"rgname",
		"service1",
		"myConnection",
		&armm365securityandcompliance.PrivateEndpointConnectionsForMIPPolicySyncClientBeginDeleteOptions{ResumeToken: ""})
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceDeletePrivateEndpointConnection.json: %v", err)
	}
	_, err = poller.PollUntilDone(ctx, 30*time.Second)
	if err != nil {
		t.Fatalf("Failed to get LRO result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncServiceDeletePrivateEndpointConnection.json: %v", err)
	}
}

func TestPrivateLinkResourcesForMIPPolicySync_ListByService(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncPrivateLinkResourcesListByService.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_ListGroupIds"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesForMIPPolicySyncClient("subid", cred, &options)
	res, err := client.ListByService(ctx,
		"rgname",
		"service1",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncPrivateLinkResourcesListByService.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResourceListResult{
			Value: []*armm365securityandcompliance.PrivateLinkResource{
				{
					Name: to.Ptr("fhir"),
					Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/privateLinkResources"),
					ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1/privateLinkResources/fhir"),
					Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
						GroupID: to.Ptr("fhir"),
						RequiredMembers: []*string{
							to.Ptr("fhir")},
						RequiredZoneNames: []*string{
							to.Ptr("privatelink.compliance.microsoft.com")},
					},
				}},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResourceListResult) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResourceListResult)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncPrivateLinkResourcesListByService.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

func TestPrivateLinkResourcesForMIPPolicySync_Get(t *testing.T) {
	// From example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncPrivateLinkResourceGet.json
	ctx = runtime.WithHTTPHeader(ctx, map[string][]string{
		"example-id": {"PrivateLinkResources_Get"},
	})
	defer func() {
		if r := recover(); r != nil {
			t.Fatal("stacktrace from panic: \n" + string(debug.Stack()))
		}
	}()
	client := armm365securityandcompliance.NewPrivateLinkResourcesForMIPPolicySyncClient("subid", cred, &options)
	res, err := client.Get(ctx,
		"rgname",
		"service1",
		"fhir",
		nil)
	if err != nil {
		t.Fatalf("Failed to get result for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncPrivateLinkResourceGet.json: %v", err)
	}
	// Response check
	{
		exampleRes := armm365securityandcompliance.PrivateLinkResource{
			Name: to.Ptr("fhir"),
			Type: to.Ptr("Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/privateLinkResources"),
			ID:   to.Ptr("/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.M365SecurityAndCompliance/privateLinkServicesForMIPPolicySync/service1/privateLinkResources/fhir"),
			Properties: &armm365securityandcompliance.PrivateLinkResourceProperties{
				GroupID: to.Ptr("fhir"),
				RequiredMembers: []*string{
					to.Ptr("fhir")},
				RequiredZoneNames: []*string{
					to.Ptr("privatelink.security.microsoft.com")},
			},
			SystemData: &armm365securityandcompliance.SystemData{
				CreatedAt:          to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				CreatedBy:          to.Ptr("fangsu"),
				CreatedByType:      to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
				LastModifiedAt:     to.Ptr(func() time.Time { t, _ := time.Parse(time.RFC3339Nano, "2021-03-24T13:30:28.958Z"); return t }()),
				LastModifiedBy:     to.Ptr("fangsu"),
				LastModifiedByType: to.Ptr(armm365securityandcompliance.CreatedByTypeUser),
			},
		}
		if !reflect.DeepEqual(exampleRes, res.PrivateLinkResource) {
			exampleResJson, _ := json.Marshal(exampleRes)
			mockResJson, _ := json.Marshal(res.PrivateLinkResource)
			t.Fatalf("Mock response is not equal to example response for example specification/m365securityandcompliance/resource-manager/Microsoft.M365SecurityAndCompliance/preview/2021-03-25-preview/examples/MIPPolicySyncPrivateLinkResourceGet.json:\nmock response: %s\nexample response: %s", mockResJson, exampleResJson)
		}
	}
}

// TestMain will exec each test
func TestMain(m *testing.M) {
	setUp()
	retCode := m.Run() // exec test and this returns an exit code to pass to os
	tearDown()
	os.Exit(retCode)
}

func getEnv(key, fallback string) string {
	if value, ok := os.LookupEnv(key); ok {
		return value
	}
	return fallback
}

func setUp() {
	ctx = context.Background()
	mockHost = getEnv("AZURE_VIRTUAL_SERVER_HOST", "https://localhost:8443")

	tr := &http.Transport{}
	if err := http2.ConfigureTransport(tr); err != nil {
		fmt.Printf("Failed to configure http2 transport: %v", err)
	}
	tr.TLSClientConfig.InsecureSkipVerify = true
	client := &http.Client{Transport: tr}

	cred = &MockCredential{}

	options = arm.ClientOptions{
		ClientOptions: policy.ClientOptions{
			Logging: policy.LogOptions{
				IncludeBody: true,
			},
			Transport: client,
		},
		Endpoint: arm.Endpoint(mockHost),
	}
}

func tearDown() {

}

type MockCredential struct {
}

func (c *MockCredential) GetToken(ctx context.Context, opts policy.TokenRequestOptions) (*azcore.AccessToken, error) {
	return &azcore.AccessToken{Token: "MockToken", ExpiresOn: time.Now().Add(time.Hour * 24).UTC()}, nil
}
